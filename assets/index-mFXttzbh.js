import{_ as U,a as y}from"./assertThisInitialized-BIGTeGEP.js";import{r as l,R as P}from"./index-Dl6G-zuu.js";import{t as jt}from"./toArray-Rh0cCEsr.js";import{F as dt,G as vt,H as ht,I as mt,s as gt,Y as Yt,e as _,Z as fe,q as yt,d as Ut,m as Ne,c as ge,$ as pe,g as z,i as wt,J as qt,w as K,K as Gt,M as Ye,f as Kt,h as g}from"./index-CTNOGpui.js";import{R as de}from"./index-B_8YWI8i.js";import{b as Oe,i as Zt}from"./index-B2BRC2NR.js";var Re=l.createContext(null);function Jt(e){var n=e.children,t=e.onBatchResize,i=l.useRef(0),o=l.useRef([]),s=l.useContext(Re),r=l.useCallback(function(u,a,c){i.current+=1;var p=i.current;o.current.push({size:u,element:a,data:c}),Promise.resolve().then(function(){p===i.current&&(t==null||t(o.current),o.current=[])}),s==null||s(u,a,c)},[t,s]);return l.createElement(Re.Provider,{value:r},n)}var bt=function(){if(typeof Map<"u")return Map;function e(n,t){var i=-1;return n.some(function(o,s){return o[0]===t?(i=s,!0):!1}),i}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(t){var i=e(this.__entries__,t),o=this.__entries__[i];return o&&o[1]},n.prototype.set=function(t,i){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=i:this.__entries__.push([t,i])},n.prototype.delete=function(t){var i=this.__entries__,o=e(i,t);~o&&i.splice(o,1)},n.prototype.has=function(t){return!!~e(this.__entries__,t)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var o=0,s=this.__entries__;o<s.length;o++){var r=s[o];t.call(i,r[1],r[0])}},n}()}(),Se=typeof window<"u"&&typeof document<"u"&&window.document===document,ve=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Qt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ve):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),en=2;function tn(e,n){var t=!1,i=!1,o=0;function s(){t&&(t=!1,e()),i&&u()}function r(){Qt(s)}function u(){var a=Date.now();if(t){if(a-o<en)return;i=!0}else t=!0,i=!1,setTimeout(r,n);o=a}return u}var nn=20,rn=["top","right","bottom","left","width","height","size","weight"],on=typeof MutationObserver<"u",an=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=tn(this.refresh.bind(this),nn)}return e.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},e.prototype.removeObserver=function(n){var t=this.observers_,i=t.indexOf(n);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},e.prototype.updateObservers_=function(){var n=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return n.forEach(function(t){return t.broadcastActive()}),n.length>0},e.prototype.connect_=function(){!Se||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),on?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Se||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(n){var t=n.propertyName,i=t===void 0?"":t,o=rn.some(function(s){return!!~i.indexOf(s)});o&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Ct=function(e,n){for(var t=0,i=Object.keys(n);t<i.length;t++){var o=i[t];Object.defineProperty(e,o,{value:n[o],enumerable:!1,writable:!1,configurable:!0})}return e},J=function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||ve},Tt=ye(0,0,0,0);function he(e){return parseFloat(e)||0}function Ue(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.reduce(function(i,o){var s=e["border-"+o+"-width"];return i+he(s)},0)}function sn(e){for(var n=["top","right","bottom","left"],t={},i=0,o=n;i<o.length;i++){var s=o[i],r=e["padding-"+s];t[s]=he(r)}return t}function un(e){var n=e.getBBox();return ye(0,0,n.width,n.height)}function cn(e){var n=e.clientWidth,t=e.clientHeight;if(!n&&!t)return Tt;var i=J(e).getComputedStyle(e),o=sn(i),s=o.left+o.right,r=o.top+o.bottom,u=he(i.width),a=he(i.height);if(i.boxSizing==="border-box"&&(Math.round(u+s)!==n&&(u-=Ue(i,"left","right")+s),Math.round(a+r)!==t&&(a-=Ue(i,"top","bottom")+r)),!fn(e)){var c=Math.round(u+s)-n,p=Math.round(a+r)-t;Math.abs(c)!==1&&(u-=c),Math.abs(p)!==1&&(a-=p)}return ye(o.left,o.top,u,a)}var ln=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof J(e).SVGGraphicsElement}:function(e){return e instanceof J(e).SVGElement&&typeof e.getBBox=="function"}}();function fn(e){return e===J(e).document.documentElement}function pn(e){return Se?ln(e)?un(e):cn(e):Tt}function dn(e){var n=e.x,t=e.y,i=e.width,o=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,r=Object.create(s.prototype);return Ct(r,{x:n,y:t,width:i,height:o,top:t,right:n+i,bottom:o+t,left:n}),r}function ye(e,n,t,i){return{x:e,y:n,width:t,height:i}}var vn=function(){function e(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ye(0,0,0,0),this.target=n}return e.prototype.isActive=function(){var n=pn(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},e}(),hn=function(){function e(n,t){var i=dn(t);Ct(this,{target:n,contentRect:i})}return e}(),mn=function(){function e(n,t,i){if(this.activeObservations_=[],this.observations_=new bt,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof J(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(n)||(t.set(n,new vn(n)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof J(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(n)&&(t.delete(n),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&n.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new hn(i.target,i.broadcastRect())});this.callback_.call(n,t,n),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Mt=typeof WeakMap<"u"?new WeakMap:new bt,Et=function(){function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=an.getInstance(),i=new mn(n,t,this);Mt.set(this,i)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Et.prototype[e]=function(){var n;return(n=Mt.get(this))[e].apply(n,arguments)}});var xt=function(){return typeof ve.ResizeObserver<"u"?ve.ResizeObserver:Et}(),$=new Map;function gn(e){e.forEach(function(n){var t,i=n.target;(t=$.get(i))===null||t===void 0||t.forEach(function(o){return o(i)})})}var Pt=new xt(gn),yn=null;function wn(e,n){$.has(e)||($.set(e,new Set),Pt.observe(e)),$.get(e).add(n)}function bn(e,n){$.has(e)&&($.get(e).delete(n),$.get(e).size||(Pt.unobserve(e),$.delete(e)))}var Cn=function(e){dt(t,e);var n=vt(t);function t(){return ht(this,t),n.apply(this,arguments)}return mt(t,[{key:"render",value:function(){return this.props.children}}]),t}(l.Component);function Tn(e,n){var t=e.children,i=e.disabled,o=l.useRef(null),s=l.useRef(null),r=l.useContext(Re),u=typeof t=="function",a=u?t(o):t,c=l.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),p=!u&&l.isValidElement(a)&&gt(a),h=p?a.ref:null,v=Yt(h,o),f=function(){var C;return fe(o.current)||(o.current&&yt(o.current)==="object"?fe((C=o.current)===null||C===void 0?void 0:C.nativeElement):null)||fe(s.current)};l.useImperativeHandle(n,function(){return f()});var d=l.useRef(e);d.current=e;var w=l.useCallback(function(b){var C=d.current,T=C.onResize,M=C.data,O=b.getBoundingClientRect(),k=O.width,D=O.height,H=b.offsetWidth,R=b.offsetHeight,A=Math.floor(k),V=Math.floor(D);if(c.current.width!==A||c.current.height!==V||c.current.offsetWidth!==H||c.current.offsetHeight!==R){var E={width:A,height:V,offsetWidth:H,offsetHeight:R};c.current=E;var B=H===Math.round(k)?k:H,I=R===Math.round(D)?D:R,W=_(_({},E),{},{offsetWidth:B,offsetHeight:I});r==null||r(W,b,M),T&&Promise.resolve().then(function(){T(W,b)})}},[]);return l.useEffect(function(){var b=f();return b&&!i&&wn(b,w),function(){return bn(b,w)}},[o.current,i]),l.createElement(Cn,{ref:s},p?l.cloneElement(a,{ref:v}):a)}var Mn=l.forwardRef(Tn),En="rc-observer-key";function xn(e,n){var t=e.children,i=typeof t=="function"?[t]:jt(t);return i.map(function(o,s){var r=(o==null?void 0:o.key)||"".concat(En,"-").concat(s);return l.createElement(Mn,U({},e,{key:r,ref:s===0?n:void 0}),o)})}var Ot=l.forwardRef(xn);Ot.Collection=Jt;const Mr=Object.freeze(Object.defineProperty({__proto__:null,_rs:yn,default:Ot},Symbol.toStringTag,{value:"Module"}));function ne(e,n,t,i){var o=de.unstable_batchedUpdates?function(r){de.unstable_batchedUpdates(t,r)}:t;return e!=null&&e.addEventListener&&e.addEventListener(n,o,i),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(n,o,i)}}}const Pn=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var On=l.forwardRef(function(e,n){var t=e.didUpdate,i=e.getContainer,o=e.children,s=l.useRef(),r=l.useRef();l.useImperativeHandle(n,function(){return{}});var u=l.useRef(!1);return!u.current&&Ut()&&(r.current=i(),s.current=r.current.parentNode,u.current=!0),l.useEffect(function(){t==null||t(e)}),l.useEffect(function(){return r.current.parentNode===null&&s.current!==null&&s.current.appendChild(r.current),function(){var a;(a=r.current)===null||a===void 0||(a=a.parentNode)===null||a===void 0||a.removeChild(r.current)}},[]),r.current?de.createPortal(o,r.current):null});function Rn(e,n,t){return t?e[0]===n[0]:e[0]===n[0]&&e[1]===n[1]}function Sn(e,n,t){var i=e[n]||{};return _(_({},i),t)}function _n(e,n,t,i){for(var o=t.points,s=Object.keys(e),r=0;r<s.length;r+=1){var u=s[r];if(Rn(e[u].points,o,i))return"".concat(n,"-placement-").concat(u)}return""}function Rt(e){var n=e.prefixCls,t=e.motion,i=e.animation,o=e.transitionName;return t||(i?{motionName:"".concat(n,"-").concat(i)}:o?{motionName:o}:null)}function kn(e){var n=e.prefixCls,t=e.visible,i=e.zIndex,o=e.mask,s=e.maskMotion,r=e.maskAnimation,u=e.maskTransitionName;if(!o)return null;var a={};return(s||u||r)&&(a=_({motionAppear:!0},Rt({motion:s,prefixCls:n,transitionName:u,animation:r}))),l.createElement(Ne,U({},a,{visible:t,removeOnLeave:!0}),function(c){var p=c.className;return l.createElement("div",{style:{zIndex:i},className:ge("".concat(n,"-mask"),p)})})}function qe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,i)}return t}function Ge(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?qe(Object(t),!0).forEach(function(i){Dn(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}function _e(e){"@babel/helpers - typeof";return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_e(e)}function Dn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var te,An={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function me(){if(te!==void 0)return te;te="";var e=document.createElement("p").style,n="Transform";for(var t in An)t+n in e&&(te=t);return te}function St(){return me()?"".concat(me(),"TransitionProperty"):"transitionProperty"}function we(){return me()?"".concat(me(),"Transform"):"transform"}function Ke(e,n){var t=St();t&&(e.style[t]=n,t!=="transitionProperty"&&(e.style.transitionProperty=n))}function Te(e,n){var t=we();t&&(e.style[t]=n,t!=="transform"&&(e.style.transform=n))}function Nn(e){return e.style.transitionProperty||e.style[St()]}function Hn(e){var n=window.getComputedStyle(e,null),t=n.getPropertyValue("transform")||n.getPropertyValue(we());if(t&&t!=="none"){var i=t.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(i[12]||i[4],0),y:parseFloat(i[13]||i[5],0)}}return{x:0,y:0}}var Vn=/matrix\((.*)\)/,zn=/matrix3d\((.*)\)/;function Wn(e,n){var t=window.getComputedStyle(e,null),i=t.getPropertyValue("transform")||t.getPropertyValue(we());if(i&&i!=="none"){var o,s=i.match(Vn);if(s)s=s[1],o=s.split(",").map(function(u){return parseFloat(u,10)}),o[4]=n.x,o[5]=n.y,Te(e,"matrix(".concat(o.join(","),")"));else{var r=i.match(zn)[1];o=r.split(",").map(function(u){return parseFloat(u,10)}),o[12]=n.x,o[13]=n.y,Te(e,"matrix3d(".concat(o.join(","),")"))}}else Te(e,"translateX(".concat(n.x,"px) translateY(").concat(n.y,"px) translateZ(0)"))}var Ln=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,oe;function Ze(e){var n=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=n}function Z(e,n,t){var i=t;if(_e(n)==="object"){for(var o in n)n.hasOwnProperty(o)&&Z(e,o,n[o]);return}if(typeof i<"u"){typeof i=="number"&&(i="".concat(i,"px")),e.style[n]=i;return}return oe(e,n)}function Bn(e){var n,t,i,o=e.ownerDocument,s=o.body,r=o&&o.documentElement;return n=e.getBoundingClientRect(),t=Math.floor(n.left),i=Math.floor(n.top),t-=r.clientLeft||s.clientLeft||0,i-=r.clientTop||s.clientTop||0,{left:t,top:i}}function _t(e,n){var t=e["page".concat(n?"Y":"X","Offset")],i="scroll".concat(n?"Top":"Left");if(typeof t!="number"){var o=e.document;t=o.documentElement[i],typeof t!="number"&&(t=o.body[i])}return t}function kt(e){return _t(e)}function Dt(e){return _t(e,!0)}function ie(e){var n=Bn(e),t=e.ownerDocument,i=t.defaultView||t.parentWindow;return n.left+=kt(i),n.top+=Dt(i),n}function He(e){return e!=null&&e==e.window}function At(e){return He(e)?e.document:e.nodeType===9?e:e.ownerDocument}function In(e,n,t){var i=t,o="",s=At(e);return i=i||s.defaultView.getComputedStyle(e,null),i&&(o=i.getPropertyValue(n)||i[n]),o}var Fn=new RegExp("^(".concat(Ln,")(?!px)[a-z%]+$"),"i"),$n=/^(top|right|bottom|left)$/,Me="currentStyle",Ee="runtimeStyle",Y="left",Xn="px";function jn(e,n){var t=e[Me]&&e[Me][n];if(Fn.test(t)&&!$n.test(n)){var i=e.style,o=i[Y],s=e[Ee][Y];e[Ee][Y]=e[Me][Y],i[Y]=n==="fontSize"?"1em":t||0,t=i.pixelLeft+Xn,i[Y]=o,e[Ee][Y]=s}return t===""?"auto":t}typeof window<"u"&&(oe=window.getComputedStyle?In:jn);function se(e,n){return e==="left"?n.useCssRight?"right":e:n.useCssBottom?"bottom":e}function Je(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function Qe(e,n,t){Z(e,"position")==="static"&&(e.style.position="relative");var i=-999,o=-999,s=se("left",t),r=se("top",t),u=Je(s),a=Je(r);s!=="left"&&(i=999),r!=="top"&&(o=999);var c="",p=ie(e);("left"in n||"top"in n)&&(c=Nn(e)||"",Ke(e,"none")),"left"in n&&(e.style[u]="",e.style[s]="".concat(i,"px")),"top"in n&&(e.style[a]="",e.style[r]="".concat(o,"px")),Ze(e);var h=ie(e),v={};for(var f in n)if(n.hasOwnProperty(f)){var d=se(f,t),w=f==="left"?i:o,b=p[f]-h[f];d===f?v[d]=w+b:v[d]=w-b}Z(e,v),Ze(e),("left"in n||"top"in n)&&Ke(e,c);var C={};for(var T in n)if(n.hasOwnProperty(T)){var M=se(T,t),O=n[T]-p[T];T===M?C[M]=v[M]+O:C[M]=v[M]-O}Z(e,C)}function Yn(e,n){var t=ie(e),i=Hn(e),o={x:i.x,y:i.y};"left"in n&&(o.x=i.x+n.left-t.left),"top"in n&&(o.y=i.y+n.top-t.top),Wn(e,o)}function Un(e,n,t){if(t.ignoreShake){var i=ie(e),o=i.left.toFixed(0),s=i.top.toFixed(0),r=n.left.toFixed(0),u=n.top.toFixed(0);if(o===r&&s===u)return}t.useCssRight||t.useCssBottom?Qe(e,n,t):t.useCssTransform&&we()in document.body.style?Yn(e,n):Qe(e,n,t)}function Ve(e,n){for(var t=0;t<e.length;t++)n(e[t])}function Nt(e){return oe(e,"boxSizing")==="border-box"}var qn=["margin","border","padding"],ke=-1,Gn=2,De=1,Kn=0;function Zn(e,n,t){var i={},o=e.style,s;for(s in n)n.hasOwnProperty(s)&&(i[s]=o[s],o[s]=n[s]);t.call(e);for(s in n)n.hasOwnProperty(s)&&(o[s]=i[s])}function re(e,n,t){var i=0,o,s,r;for(s=0;s<n.length;s++)if(o=n[s],o)for(r=0;r<t.length;r++){var u=void 0;o==="border"?u="".concat(o).concat(t[r],"Width"):u=o+t[r],i+=parseFloat(oe(e,u))||0}return i}var L={getParent:function(n){var t=n;do t.nodeType===11&&t.host?t=t.host:t=t.parentNode;while(t&&t.nodeType!==1&&t.nodeType!==9);return t}};Ve(["Width","Height"],function(e){L["doc".concat(e)]=function(n){var t=n.document;return Math.max(t.documentElement["scroll".concat(e)],t.body["scroll".concat(e)],L["viewport".concat(e)](t))},L["viewport".concat(e)]=function(n){var t="client".concat(e),i=n.document,o=i.body,s=i.documentElement,r=s[t];return i.compatMode==="CSS1Compat"&&r||o&&o[t]||r}});function et(e,n,t){var i=t;if(He(e))return n==="width"?L.viewportWidth(e):L.viewportHeight(e);if(e.nodeType===9)return n==="width"?L.docWidth(e):L.docHeight(e);var o=n==="width"?["Left","Right"]:["Top","Bottom"],s=Math.floor(n==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),r=Nt(e),u=0;(s==null||s<=0)&&(s=void 0,u=oe(e,n),(u==null||Number(u)<0)&&(u=e.style[n]||0),u=Math.floor(parseFloat(u))||0),i===void 0&&(i=r?De:ke);var a=s!==void 0||r,c=s||u;return i===ke?a?c-re(e,["border","padding"],o):u:a?i===De?c:c+(i===Gn?-re(e,["border"],o):re(e,["margin"],o)):u+re(e,qn.slice(i),o)}var Jn={position:"absolute",visibility:"hidden",display:"block"};function tt(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var i,o=n[0];return o.offsetWidth!==0?i=et.apply(void 0,n):Zn(o,Jn,function(){i=et.apply(void 0,n)}),i}Ve(["width","height"],function(e){var n=e.charAt(0).toUpperCase()+e.slice(1);L["outer".concat(n)]=function(i,o){return i&&tt(i,e,o?Kn:De)};var t=e==="width"?["Left","Right"]:["Top","Bottom"];L[e]=function(i,o){var s=o;if(s!==void 0){if(i){var r=Nt(i);return r&&(s+=re(i,["padding","border"],t)),Z(i,e,s)}return}return i&&tt(i,e,ke)}});function Ht(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}var m={getWindow:function(n){if(n&&n.document&&n.setTimeout)return n;var t=n.ownerDocument||n;return t.defaultView||t.parentWindow},getDocument:At,offset:function(n,t,i){if(typeof t<"u")Un(n,t,i||{});else return ie(n)},isWindow:He,each:Ve,css:Z,clone:function(n){var t,i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);var o=n.overflow;if(o)for(t in n)n.hasOwnProperty(t)&&(i.overflow[t]=n.overflow[t]);return i},mix:Ht,getWindowScrollLeft:function(n){return kt(n)},getWindowScrollTop:function(n){return Dt(n)},merge:function(){for(var n={},t=0;t<arguments.length;t++)m.mix(n,t<0||arguments.length<=t?void 0:arguments[t]);return n},viewportWidth:0,viewportHeight:0};Ht(m,L);var xe=m.getParent;function Ae(e){if(m.isWindow(e)||e.nodeType===9)return null;var n=m.getDocument(e),t=n.body,i,o=m.css(e,"position"),s=o==="fixed"||o==="absolute";if(!s)return e.nodeName.toLowerCase()==="html"?null:xe(e);for(i=xe(e);i&&i!==t&&i.nodeType!==9;i=xe(i))if(o=m.css(i,"position"),o!=="static")return i;return null}var nt=m.getParent;function Qn(e){if(m.isWindow(e)||e.nodeType===9)return!1;var n=m.getDocument(e),t=n.body,i=null;for(i=nt(e);i&&i!==t&&i!==n;i=nt(i)){var o=m.css(i,"position");if(o==="fixed")return!0}return!1}function ze(e,n){for(var t={left:0,right:1/0,top:0,bottom:1/0},i=Ae(e),o=m.getDocument(e),s=o.defaultView||o.parentWindow,r=o.body,u=o.documentElement;i;){if((navigator.userAgent.indexOf("MSIE")===-1||i.clientWidth!==0)&&i!==r&&i!==u&&m.css(i,"overflow")!=="visible"){var a=m.offset(i);a.left+=i.clientLeft,a.top+=i.clientTop,t.top=Math.max(t.top,a.top),t.right=Math.min(t.right,a.left+i.clientWidth),t.bottom=Math.min(t.bottom,a.top+i.clientHeight),t.left=Math.max(t.left,a.left)}else if(i===r||i===u)break;i=Ae(i)}var c=null;if(!m.isWindow(e)&&e.nodeType!==9){c=e.style.position;var p=m.css(e,"position");p==="absolute"&&(e.style.position="fixed")}var h=m.getWindowScrollLeft(s),v=m.getWindowScrollTop(s),f=m.viewportWidth(s),d=m.viewportHeight(s),w=u.scrollWidth,b=u.scrollHeight,C=window.getComputedStyle(r);if(C.overflowX==="hidden"&&(w=s.innerWidth),C.overflowY==="hidden"&&(b=s.innerHeight),e.style&&(e.style.position=c),n||Qn(e))t.left=Math.max(t.left,h),t.top=Math.max(t.top,v),t.right=Math.min(t.right,h+f),t.bottom=Math.min(t.bottom,v+d);else{var T=Math.max(w,h+f);t.right=Math.min(t.right,T);var M=Math.max(b,v+d);t.bottom=Math.min(t.bottom,M)}return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null}function er(e,n,t,i){var o=m.clone(e),s={width:n.width,height:n.height};return i.adjustX&&o.left<t.left&&(o.left=t.left),i.resizeWidth&&o.left>=t.left&&o.left+s.width>t.right&&(s.width-=o.left+s.width-t.right),i.adjustX&&o.left+s.width>t.right&&(o.left=Math.max(t.right-s.width,t.left)),i.adjustY&&o.top<t.top&&(o.top=t.top),i.resizeHeight&&o.top>=t.top&&o.top+s.height>t.bottom&&(s.height-=o.top+s.height-t.bottom),i.adjustY&&o.top+s.height>t.bottom&&(o.top=Math.max(t.bottom-s.height,t.top)),m.mix(o,s)}function We(e){var n,t,i;if(!m.isWindow(e)&&e.nodeType!==9)n=m.offset(e),t=m.outerWidth(e),i=m.outerHeight(e);else{var o=m.getWindow(e);n={left:m.getWindowScrollLeft(o),top:m.getWindowScrollTop(o)},t=m.viewportWidth(o),i=m.viewportHeight(o)}return n.width=t,n.height=i,n}function rt(e,n){var t=n.charAt(0),i=n.charAt(1),o=e.width,s=e.height,r=e.left,u=e.top;return t==="c"?u+=s/2:t==="b"&&(u+=s),i==="c"?r+=o/2:i==="r"&&(r+=o),{left:r,top:u}}function ue(e,n,t,i,o){var s=rt(n,t[1]),r=rt(e,t[0]),u=[r.left-s.left,r.top-s.top];return{left:Math.round(e.left-u[0]+i[0]-o[0]),top:Math.round(e.top-u[1]+i[1]-o[1])}}function it(e,n,t){return e.left<t.left||e.left+n.width>t.right}function ot(e,n,t){return e.top<t.top||e.top+n.height>t.bottom}function tr(e,n,t){return e.left>t.right||e.left+n.width<t.left}function nr(e,n,t){return e.top>t.bottom||e.top+n.height<t.top}function ce(e,n,t){var i=[];return m.each(e,function(o){i.push(o.replace(n,function(s){return t[s]}))}),i}function le(e,n){return e[n]=-e[n],e}function at(e,n){var t;return/%$/.test(e)?t=parseInt(e.substring(0,e.length-1),10)/100*n:t=parseInt(e,10),t||0}function st(e,n){e[0]=at(e[0],n.width),e[1]=at(e[1],n.height)}function Vt(e,n,t,i){var o=t.points,s=t.offset||[0,0],r=t.targetOffset||[0,0],u=t.overflow,a=t.source||e;s=[].concat(s),r=[].concat(r),u=u||{};var c={},p=0,h=!!(u&&u.alwaysByViewport),v=ze(a,h),f=We(a);st(s,f),st(r,n);var d=ue(f,n,o,s,r),w=m.merge(f,d);if(v&&(u.adjustX||u.adjustY)&&i){if(u.adjustX&&it(d,f,v)){var b=ce(o,/[lr]/gi,{l:"r",r:"l"}),C=le(s,0),T=le(r,0),M=ue(f,n,b,C,T);tr(M,f,v)||(p=1,o=b,s=C,r=T)}if(u.adjustY&&ot(d,f,v)){var O=ce(o,/[tb]/gi,{t:"b",b:"t"}),k=le(s,1),D=le(r,1),H=ue(f,n,O,k,D);nr(H,f,v)||(p=1,o=O,s=k,r=D)}p&&(d=ue(f,n,o,s,r),m.mix(w,d));var R=it(d,f,v),A=ot(d,f,v);if(R||A){var V=o;R&&(V=ce(o,/[lr]/gi,{l:"r",r:"l"})),A&&(V=ce(o,/[tb]/gi,{t:"b",b:"t"})),o=V,s=t.offset||[0,0],r=t.targetOffset||[0,0]}c.adjustX=u.adjustX&&R,c.adjustY=u.adjustY&&A,(c.adjustX||c.adjustY)&&(w=er(d,f,v,c))}return w.width!==f.width&&m.css(a,"width",m.width(a)+w.width-f.width),w.height!==f.height&&m.css(a,"height",m.height(a)+w.height-f.height),m.offset(a,{left:w.left,top:w.top},{useCssRight:t.useCssRight,useCssBottom:t.useCssBottom,useCssTransform:t.useCssTransform,ignoreShake:t.ignoreShake}),{points:o,offset:s,targetOffset:r,overflow:c}}function rr(e,n){var t=ze(e,n),i=We(e);return!t||i.left+i.width<=t.left||i.top+i.height<=t.top||i.left>=t.right||i.top>=t.bottom}function Le(e,n,t){var i=t.target||n,o=We(i),s=!rr(i,t.overflow&&t.overflow.alwaysByViewport);return Vt(e,o,t,s)}Le.__getOffsetParent=Ae;Le.__getVisibleRectForElement=ze;function ir(e,n,t){var i,o,s=m.getDocument(e),r=s.defaultView||s.parentWindow,u=m.getWindowScrollLeft(r),a=m.getWindowScrollTop(r),c=m.viewportWidth(r),p=m.viewportHeight(r);"pageX"in n?i=n.pageX:i=u+n.clientX,"pageY"in n?o=n.pageY:o=a+n.clientY;var h={left:i,top:o,width:0,height:0},v=i>=0&&i<=u+c&&o>=0&&o<=a+p,f=[t.points[0],"cc"];return Vt(e,h,Ge(Ge({},t),{},{points:f}),v)}const or=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var n=e.getBBox(),t=n.width,i=n.height;if(t||i)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),s=o.width,r=o.height;if(s||r)return!0}}return!1},ar=function(e,n){var t=P.useRef(!1),i=P.useRef(null);function o(){window.clearTimeout(i.current)}function s(r){if(o(),!t.current||r===!0){if(e(r)===!1)return;t.current=!0,i.current=window.setTimeout(function(){t.current=!1},n)}else i.current=window.setTimeout(function(){t.current=!1,s()},n)}return[s,function(){t.current=!1,o()}]};function sr(e,n){return e===n?!0:!e||!n?!1:"pageX"in n&&"pageY"in n?e.pageX===n.pageX&&e.pageY===n.pageY:"clientX"in n&&"clientY"in n?e.clientX===n.clientX&&e.clientY===n.clientY:!1}function ur(e,n){e!==document.activeElement&&pe(n,e)&&typeof e.focus=="function"&&e.focus()}function ut(e,n){var t=null,i=null;function o(r){var u=z(r,1),a=u[0].target;if(document.documentElement.contains(a)){var c=a.getBoundingClientRect(),p=c.width,h=c.height,v=Math.floor(p),f=Math.floor(h);(t!==v||i!==f)&&Promise.resolve().then(function(){n({width:v,height:f})}),t=v,i=f}}var s=new xt(o);return e&&s.observe(e),function(){s.disconnect()}}function ct(e){return typeof e!="function"?null:e()}function lt(e){return yt(e)!=="object"||!e?null:e}var cr=function(n,t){var i=n.children,o=n.disabled,s=n.target,r=n.align,u=n.onAlign,a=n.monitorWindowResize,c=n.monitorBufferTime,p=c===void 0?0:c,h=P.useRef({}),v=P.useRef(),f=P.Children.only(i),d=P.useRef({});d.current.disabled=o,d.current.target=s,d.current.align=r,d.current.onAlign=u;var w=ar(function(){var E=d.current,B=E.disabled,I=E.target,W=E.align,q=E.onAlign,N=v.current;if(!B&&I&&N){var X,S=ct(I),j=lt(I);h.current.element=S,h.current.point=j,h.current.align=W;var be=document,ae=be.activeElement;return S&&or(S)?X=Le(N,S,W):j&&(X=ir(N,j,W)),ur(ae,N),q&&X&&q(N,X),!0}return!1},p),b=z(w,2),C=b[0],T=b[1],M=P.useState(),O=z(M,2),k=O[0],D=O[1],H=P.useState(),R=z(H,2),A=R[0],V=R[1];return Oe(function(){D(ct(s)),V(lt(s))}),P.useEffect(function(){(h.current.element!==k||!sr(h.current.point,A)||!Zt(h.current.align,r))&&C()}),P.useEffect(function(){var E=ut(v.current,C);return E},[v.current]),P.useEffect(function(){var E=ut(k,C);return E},[k]),P.useEffect(function(){o?T():C()},[o]),P.useEffect(function(){if(a){var E=ne(window,"resize",C);return E.remove}},[a]),P.useEffect(function(){return function(){T()}},[]),P.useImperativeHandle(t,function(){return{forceAlign:function(){return C(!0)}}}),P.isValidElement(f)&&(f=P.cloneElement(f,{ref:wt(f.ref,v)})),f},zt=P.forwardRef(cr);zt.displayName="Align";var ft=["measure","alignPre","align",null,"motion"];const lr=function(e,n){var t=qt(null),i=z(t,2),o=i[0],s=i[1],r=l.useRef();function u(p){s(p,!0)}function a(){K.cancel(r.current)}function c(p){a(),r.current=K(function(){u(function(h){switch(o){case"align":return"motion";case"motion":return"stable"}return h}),p==null||p()})}return l.useEffect(function(){u("measure")},[e]),l.useEffect(function(){switch(o){case"measure":n();break}o&&(r.current=K(Gt(Ye().mark(function p(){var h,v;return Ye().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:h=ft.indexOf(o),v=ft[h+1],v&&h!==-1&&u(v);case 3:case"end":return d.stop()}},p)}))))},[o]),l.useEffect(function(){return function(){a()}},[]),[o,c]},fr=function(e){var n=l.useState({width:0,height:0}),t=z(n,2),i=t[0],o=t[1];function s(u){var a=u.offsetWidth,c=u.offsetHeight,p=u.getBoundingClientRect(),h=p.width,v=p.height;Math.abs(a-h)<1&&Math.abs(c-v)<1&&(a=h,c=v),o({width:a,height:c})}var r=l.useMemo(function(){var u={};if(e){var a=i.width,c=i.height;e.indexOf("height")!==-1&&c?u.height=c:e.indexOf("minHeight")!==-1&&c&&(u.minHeight=c),e.indexOf("width")!==-1&&a?u.width=a:e.indexOf("minWidth")!==-1&&a&&(u.minWidth=a)}return u},[e,i]);return[r,s]};var Wt=l.forwardRef(function(e,n){var t=e.visible,i=e.prefixCls,o=e.className,s=e.style,r=e.children,u=e.zIndex,a=e.stretch,c=e.destroyPopupOnHide,p=e.forceRender,h=e.align,v=e.point,f=e.getRootDomNode,d=e.getClassNameFromAlign,w=e.onAlign,b=e.onMouseEnter,C=e.onMouseLeave,T=e.onMouseDown,M=e.onTouchStart,O=e.onClick,k=l.useRef(),D=l.useRef(),H=l.useState(),R=z(H,2),A=R[0],V=R[1],E=fr(a),B=z(E,2),I=B[0],W=B[1];function q(){a&&W(f())}var N=lr(t,q),X=z(N,2),S=X[0],j=X[1],be=l.useState(0),ae=z(be,2),Be=ae[0],Ie=ae[1],Ce=l.useRef();Oe(function(){S==="alignPre"&&Ie(0)},[S]);function It(){return v||f}function Fe(){var x;(x=k.current)===null||x===void 0||x.forceAlign()}function Ft(x,F){var G=d(F);A!==G&&V(G),Ie(function(ee){return ee+1}),S==="align"&&(w==null||w(x,F))}Oe(function(){S==="align"&&(Be<3?Fe():j(function(){var x;(x=Ce.current)===null||x===void 0||x.call(Ce)}))},[Be]);var Q=_({},Rt(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(x){var F=Q[x];Q[x]=function(G,ee){return j(),F==null?void 0:F(G,ee)}});function $e(){return new Promise(function(x){Ce.current=x})}l.useEffect(function(){!Q.motionName&&S==="motion"&&j()},[Q.motionName,S]),l.useImperativeHandle(n,function(){return{forceAlign:Fe,getElement:function(){return D.current}}});var $t=_(_({},I),{},{zIndex:u,opacity:S==="motion"||S==="stable"||!t?void 0:0,pointerEvents:!t&&S!=="stable"?"none":void 0},s),Xe=!0;h!=null&&h.points&&(S==="align"||S==="stable")&&(Xe=!1);var je=r;return l.Children.count(r)>1&&(je=l.createElement("div",{className:"".concat(i,"-content")},r)),l.createElement(Ne,U({visible:t,ref:D,leavedClassName:"".concat(i,"-hidden")},Q,{onAppearPrepare:$e,onEnterPrepare:$e,removeOnLeave:c,forceRender:p}),function(x,F){var G=x.className,ee=x.style,Xt=ge(i,o,A,G);return l.createElement(zt,{target:It(),key:"popup",ref:k,monitorWindowResize:!0,disabled:Xe,align:h,onAlign:Ft},l.createElement("div",{ref:F,className:Xt,onMouseEnter:b,onMouseLeave:C,onMouseDownCapture:T,onTouchStartCapture:M,onClick:O,style:_(_({},ee),$t)},je))})});Wt.displayName="PopupInner";var Lt=l.forwardRef(function(e,n){var t=e.prefixCls,i=e.visible,o=e.zIndex,s=e.children,r=e.mobile;r=r===void 0?{}:r;var u=r.popupClassName,a=r.popupStyle,c=r.popupMotion,p=c===void 0?{}:c,h=r.popupRender,v=e.onClick,f=l.useRef();l.useImperativeHandle(n,function(){return{forceAlign:function(){},getElement:function(){return f.current}}});var d=_({zIndex:o},a),w=s;return l.Children.count(s)>1&&(w=l.createElement("div",{className:"".concat(t,"-content")},s)),h&&(w=h(w)),l.createElement(Ne,U({visible:i,ref:f,removeOnLeave:!0},p),function(b,C){var T=b.className,M=b.style,O=ge(t,u,T);return l.createElement("div",{ref:C,className:O,onClick:v,style:_(_({},M),d)},w)})});Lt.displayName="MobilePopupInner";var pr=["visible","mobile"],Bt=l.forwardRef(function(e,n){var t=e.visible,i=e.mobile,o=Kt(e,pr),s=l.useState(t),r=z(s,2),u=r[0],a=r[1],c=l.useState(!1),p=z(c,2),h=p[0],v=p[1],f=_(_({},o),{},{visible:u});l.useEffect(function(){a(t),t&&i&&v(Pn())},[t,i]);var d=h?l.createElement(Lt,U({},f,{mobile:i,ref:n})):l.createElement(Wt,U({},f,{ref:n}));return l.createElement("div",null,l.createElement(kn,f),d)});Bt.displayName="Popup";var pt=l.createContext(null);function Pe(){}function dr(){return""}function vr(e){return e?e.ownerDocument:window.document}var hr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function mr(e){var n=function(t){dt(o,t);var i=vt(o);function o(s){var r;ht(this,o),r=i.call(this,s),g(y(r),"popupRef",l.createRef()),g(y(r),"triggerRef",l.createRef()),g(y(r),"portalContainer",void 0),g(y(r),"attachId",void 0),g(y(r),"clickOutsideHandler",void 0),g(y(r),"touchOutsideHandler",void 0),g(y(r),"contextMenuOutsideHandler1",void 0),g(y(r),"contextMenuOutsideHandler2",void 0),g(y(r),"mouseDownTimeout",void 0),g(y(r),"focusTime",void 0),g(y(r),"preClickTime",void 0),g(y(r),"preTouchTime",void 0),g(y(r),"delayTimer",void 0),g(y(r),"hasPopupMouseDown",void 0),g(y(r),"onMouseEnter",function(a){var c=r.props.mouseEnterDelay;r.fireEvents("onMouseEnter",a),r.delaySetPopupVisible(!0,c,c?null:a)}),g(y(r),"onMouseMove",function(a){r.fireEvents("onMouseMove",a),r.setPoint(a)}),g(y(r),"onMouseLeave",function(a){r.fireEvents("onMouseLeave",a),r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)}),g(y(r),"onPopupMouseEnter",function(){r.clearDelayTimer()}),g(y(r),"onPopupMouseLeave",function(a){var c;a.relatedTarget&&!a.relatedTarget.setTimeout&&pe((c=r.popupRef.current)===null||c===void 0?void 0:c.getElement(),a.relatedTarget)||r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)}),g(y(r),"onFocus",function(a){r.fireEvents("onFocus",a),r.clearDelayTimer(),r.isFocusToShow()&&(r.focusTime=Date.now(),r.delaySetPopupVisible(!0,r.props.focusDelay))}),g(y(r),"onMouseDown",function(a){r.fireEvents("onMouseDown",a),r.preClickTime=Date.now()}),g(y(r),"onTouchStart",function(a){r.fireEvents("onTouchStart",a),r.preTouchTime=Date.now()}),g(y(r),"onBlur",function(a){r.fireEvents("onBlur",a),r.clearDelayTimer(),r.isBlurToHide()&&r.delaySetPopupVisible(!1,r.props.blurDelay)}),g(y(r),"onContextMenu",function(a){a.preventDefault(),r.fireEvents("onContextMenu",a),r.setPopupVisible(!0,a)}),g(y(r),"onContextMenuClose",function(){r.isContextMenuToShow()&&r.close()}),g(y(r),"onClick",function(a){if(r.fireEvents("onClick",a),r.focusTime){var c;if(r.preClickTime&&r.preTouchTime?c=Math.min(r.preClickTime,r.preTouchTime):r.preClickTime?c=r.preClickTime:r.preTouchTime&&(c=r.preTouchTime),Math.abs(c-r.focusTime)<20)return;r.focusTime=0}r.preClickTime=0,r.preTouchTime=0,r.isClickToShow()&&(r.isClickToHide()||r.isBlurToHide())&&a&&a.preventDefault&&a.preventDefault();var p=!r.state.popupVisible;(r.isClickToHide()&&!p||p&&r.isClickToShow())&&r.setPopupVisible(!r.state.popupVisible,a)}),g(y(r),"onPopupMouseDown",function(){if(r.hasPopupMouseDown=!0,clearTimeout(r.mouseDownTimeout),r.mouseDownTimeout=window.setTimeout(function(){r.hasPopupMouseDown=!1},0),r.context){var a;(a=r.context).onPopupMouseDown.apply(a,arguments)}}),g(y(r),"onDocumentClick",function(a){if(!(r.props.mask&&!r.props.maskClosable)){var c=a.target,p=r.getRootDomNode(),h=r.getPopupDomNode();(!pe(p,c)||r.isContextMenuOnly())&&!pe(h,c)&&!r.hasPopupMouseDown&&r.close()}}),g(y(r),"getRootDomNode",function(){var a=r.props.getTriggerDOMNode;if(a)return a(r.triggerRef.current);try{var c=fe(r.triggerRef.current);if(c)return c}catch{}return de.findDOMNode(y(r))}),g(y(r),"getPopupClassNameFromAlign",function(a){var c=[],p=r.props,h=p.popupPlacement,v=p.builtinPlacements,f=p.prefixCls,d=p.alignPoint,w=p.getPopupClassNameFromAlign;return h&&v&&c.push(_n(v,f,a,d)),w&&c.push(w(a)),c.join(" ")}),g(y(r),"getComponent",function(){var a=r.props,c=a.prefixCls,p=a.destroyPopupOnHide,h=a.popupClassName,v=a.onPopupAlign,f=a.popupMotion,d=a.popupAnimation,w=a.popupTransitionName,b=a.popupStyle,C=a.mask,T=a.maskAnimation,M=a.maskTransitionName,O=a.maskMotion,k=a.zIndex,D=a.popup,H=a.stretch,R=a.alignPoint,A=a.mobile,V=a.forceRender,E=a.onPopupClick,B=r.state,I=B.popupVisible,W=B.point,q=r.getPopupAlign(),N={};return r.isMouseEnterToShow()&&(N.onMouseEnter=r.onPopupMouseEnter),r.isMouseLeaveToHide()&&(N.onMouseLeave=r.onPopupMouseLeave),N.onMouseDown=r.onPopupMouseDown,N.onTouchStart=r.onPopupMouseDown,l.createElement(Bt,U({prefixCls:c,destroyPopupOnHide:p,visible:I,point:R&&W,className:h,align:q,onAlign:v,animation:d,getClassNameFromAlign:r.getPopupClassNameFromAlign},N,{stretch:H,getRootDomNode:r.getRootDomNode,style:b,mask:C,zIndex:k,transitionName:w,maskAnimation:T,maskTransitionName:M,maskMotion:O,ref:r.popupRef,motion:f,mobile:A,forceRender:V,onClick:E}),typeof D=="function"?D():D)}),g(y(r),"attachParent",function(a){K.cancel(r.attachId);var c=r.props,p=c.getPopupContainer,h=c.getDocument,v=r.getRootDomNode(),f;p?(v||p.length===0)&&(f=p(v)):f=h(r.getRootDomNode()).body,f?f.appendChild(a):r.attachId=K(function(){r.attachParent(a)})}),g(y(r),"getContainer",function(){if(!r.portalContainer){var a=r.props.getDocument,c=a(r.getRootDomNode()).createElement("div");c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.width="100%",r.portalContainer=c}return r.attachParent(r.portalContainer),r.portalContainer}),g(y(r),"setPoint",function(a){var c=r.props.alignPoint;!c||!a||r.setState({point:{pageX:a.pageX,pageY:a.pageY}})}),g(y(r),"handlePortalUpdate",function(){r.state.prevPopupVisible!==r.state.popupVisible&&r.props.afterPopupVisibleChange(r.state.popupVisible)}),g(y(r),"triggerContextValue",{onPopupMouseDown:r.onPopupMouseDown});var u;return"popupVisible"in s?u=!!s.popupVisible:u=!!s.defaultPopupVisible,r.state={prevPopupVisible:u,popupVisible:u},hr.forEach(function(a){r["fire".concat(a)]=function(c){r.fireEvents(a,c)}}),r}return mt(o,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var r=this.props,u=this.state;if(u.popupVisible){var a;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(a=r.getDocument(this.getRootDomNode()),this.clickOutsideHandler=ne(a,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(a=a||r.getDocument(this.getRootDomNode()),this.touchOutsideHandler=ne(a,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(a=a||r.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=ne(a,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=ne(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),K.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var r;return((r=this.popupRef.current)===null||r===void 0?void 0:r.getElement())||null}},{key:"getPopupAlign",value:function(){var r=this.props,u=r.popupPlacement,a=r.popupAlign,c=r.builtinPlacements;return u&&c?Sn(c,u,a):a}},{key:"setPopupVisible",value:function(r,u){var a=this.props.alignPoint,c=this.state.popupVisible;this.clearDelayTimer(),c!==r&&("popupVisible"in this.props||this.setState({popupVisible:r,prevPopupVisible:c}),this.props.onPopupVisibleChange(r)),a&&u&&r&&this.setPoint(u)}},{key:"delaySetPopupVisible",value:function(r,u,a){var c=this,p=u*1e3;if(this.clearDelayTimer(),p){var h=a?{pageX:a.pageX,pageY:a.pageY}:null;this.delayTimer=window.setTimeout(function(){c.setPopupVisible(r,h),c.clearDelayTimer()},p)}else this.setPopupVisible(r,a)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(r){var u=this.props.children.props,a=this.props;return u[r]&&a[r]?this["fire".concat(r)]:u[r]||a[r]}},{key:"isClickToShow",value:function(){var r=this.props,u=r.action,a=r.showAction;return u.indexOf("click")!==-1||a.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var r=this.props.action;return r==="contextMenu"||r.length===1&&r[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var r=this.props,u=r.action,a=r.showAction;return u.indexOf("contextMenu")!==-1||a.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var r=this.props,u=r.action,a=r.hideAction;return u.indexOf("click")!==-1||a.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var r=this.props,u=r.action,a=r.showAction;return u.indexOf("hover")!==-1||a.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var r=this.props,u=r.action,a=r.hideAction;return u.indexOf("hover")!==-1||a.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var r=this.props,u=r.action,a=r.showAction;return u.indexOf("focus")!==-1||a.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var r=this.props,u=r.action,a=r.hideAction;return u.indexOf("focus")!==-1||a.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var r;(r=this.popupRef.current)===null||r===void 0||r.forceAlign()}}},{key:"fireEvents",value:function(r,u){var a=this.props.children.props[r];a&&a(u);var c=this.props[r];c&&c(u)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var r=this.state.popupVisible,u=this.props,a=u.children,c=u.forceRender,p=u.alignPoint,h=u.className,v=u.autoDestroy,f=l.Children.only(a),d={key:"trigger"};this.isContextMenuToShow()?d.onContextMenu=this.onContextMenu:d.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(d.onClick=this.onClick,d.onMouseDown=this.onMouseDown,d.onTouchStart=this.onTouchStart):(d.onClick=this.createTwoChains("onClick"),d.onMouseDown=this.createTwoChains("onMouseDown"),d.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(d.onMouseEnter=this.onMouseEnter,p&&(d.onMouseMove=this.onMouseMove)):d.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?d.onMouseLeave=this.onMouseLeave:d.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(d.onFocus=this.onFocus,d.onBlur=this.onBlur):(d.onFocus=this.createTwoChains("onFocus"),d.onBlur=this.createTwoChains("onBlur"));var w=ge(f&&f.props&&f.props.className,h);w&&(d.className=w);var b=_({},d);gt(f)&&(b.ref=wt(this.triggerRef,f.ref));var C=l.cloneElement(f,b),T;return(r||this.popupRef.current||c)&&(T=l.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!r&&v&&(T=null),l.createElement(pt.Provider,{value:this.triggerContextValue},C,T)}}],[{key:"getDerivedStateFromProps",value:function(r,u){var a=r.popupVisible,c={};return a!==void 0&&u.popupVisible!==a&&(c.popupVisible=a,c.prevPopupVisible=u.popupVisible),c}}]),o}(l.Component);return g(n,"contextType",pt),g(n,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:dr,getDocument:vr,onPopupVisibleChange:Pe,afterPopupVisibleChange:Pe,onPopupAlign:Pe,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),n}const Er=mr(On);export{Ot as R,Er as T,Pn as a,ne as b,Mr as e,or as i};
