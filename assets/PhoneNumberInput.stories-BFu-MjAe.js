import{r as N,R as m}from"./index-Dl6G-zuu.js";import{P as x}from"./index-Beu9b4Vr.js";import{T as nt}from"./index-DfD2LYlo.js";import{I as at}from"./index-ygQga8nQ.js";import{B as _,T as ft}from"./index-DiD84cwB.js";import{c as ct,f as ht,p as w,F as mt,a as gt,V as b,e as dt,b as $,s as pt,d as yt,g as F,P as Nt,M as I,i as Ct,h as bt,j as vt,k as xt,m as rt,w as Pt,l as St}from"./getCountryByCallingCode-Cj8mfcuq.js";import{P as Tt}from"./index-BbUL0hU7.js";import{u as At}from"./chunk-2WNKQWTL-DaoWLbBh.js";import"./index-03mFnIJB.js";import"./index-CTNOGpui.js";import"./toString-Dq7YSAyh.js";import"./assertThisInitialized-BIGTeGEP.js";import"./index-B_8YWI8i.js";import"./context-CRoYx0oq.js";import"./index-B2BRC2NR.js";import"./toArray-Rh0cCEsr.js";import"./iconUtil-XvgpoNC6.js";import"./index-mFXttzbh.js";import"./statusUtils-DN1vxHNy.js";import"./type-DdM_TOSm.js";import"./pickAttrs-D-l_2OcV.js";import"./CheckOutlined-tf6StMXB.js";import"./button-CgtVjqb1.js";import"./Compact-DE9VlD5A.js";import"./reactNode-CXkgB_jW.js";import"./wave-BLLeykX_.js";import"./createSuper-fkzydAXn.js";import"./index-B11ci13A.js";import"./motion-DniBM00U.js";import"./toConsumableArray-RzYAKPeW.js";import"./row-Oh3WJrhG.js";import"./useFlexGapSupport-CrB0FIES.js";import"./styleChecker-D06dXjTH.js";import"./responsiveObserve-CedoQUlb.js";import"./index-D89ItNC4.js";function wt(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function M(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ft(e,a,t){return a&&M(e.prototype,a),t&&M(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var It=function(){function e(a){var t=a.onCountryChange,n=a.onCallingCodeChange;wt(this,e),this.onCountryChange=t,this.onCallingCodeChange=n}return Ft(e,[{key:"reset",value:function(t){var n=t.country,r=t.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(n,r)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];this[i]=t[i]}}},{key:"initCountryAndCallingCode",value:function(t,n){this.setCountry(t),this.setCallingCode(n)}},{key:"setCountry",value:function(t){this.country=t,this.onCountryChange(t)}},{key:"setCallingCode",value:function(t){this.callingCode=t,this.onCallingCodeChange(t,this.country)}},{key:"startInternationalNumber",value:function(t,n){this.international=!0,this.initCountryAndCallingCode(t,n)}},{key:"appendDigits",value:function(t){this.digits+=t}},{key:"appendNationalSignificantNumberDigits",value:function(t){this.nationalSignificantNumber+=t}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}]),e}();function Et(e,a){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=_t(e))||a&&e&&typeof e.length=="number"){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(e,a){if(e){if(typeof e=="string")return L(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L(e,a)}}function L(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}var y="x",k=new RegExp(y);function A(e,a){if(a<1)return"";for(var t="";a>1;)a&1&&(t+=e),a>>=1,e+=e;return t+e}function j(e,a){return e[a]===")"&&a++,kt(e.slice(0,a))}function kt(e){for(var a=[],t=0;t<e.length;)e[t]==="("?a.push(t):e[t]===")"&&a.pop(),t++;var n=0,r="";a.push(e.length);for(var i=0,o=a;i<o.length;i++){var l=o[i];r+=e.slice(n,l),n=l+1}return r}function Dt(e,a,t){for(var n=Et(t.split("")),r;!(r=n()).done;){var i=r.value;if(e.slice(a+1).search(k)<0)return;a=e.search(k),e=e.replace(k,i)}return[e,a]}function Rt(e,a,t){var n=t.metadata,r=t.shouldTryNationalPrefixFormattingRule,i=t.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(a.pattern(),")$"));if(o.test(e.nationalSignificantNumber))return $t(e,a,{metadata:n,shouldTryNationalPrefixFormattingRule:r,getSeparatorAfterNationalPrefix:i})}function Ot(e,a){return ct(e,a)==="IS_POSSIBLE"}function $t(e,a,t){var n=t.metadata,r=t.shouldTryNationalPrefixFormattingRule,i=t.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,r(a)){var o=U(e,a,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:i,metadata:n});if(o)return o}return U(e,a,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:i,metadata:n})}function U(e,a,t){var n=t.metadata,r=t.useNationalPrefixFormattingRule,i=t.getSeparatorAfterNationalPrefix,o=ht(e.nationalSignificantNumber,a,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:r,metadata:n});if(r||(e.nationalPrefix?o=e.nationalPrefix+i(a)+o:e.complexPrefixBeforeNationalSignificantNumber&&(o=e.complexPrefixBeforeNationalSignificantNumber+" "+o)),Mt(o,e))return o}function Mt(e,a){return w(e)===a.getNationalDigits()}function Lt(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function B(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jt(e,a,t){return a&&B(e.prototype,a),t&&B(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ut=function(){function e(){Lt(this,e)}return jt(e,[{key:"parse",value:function(t){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(t),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],r=n.branches,i=n.instructions;if(r)return{op:"|",args:r.concat([D(i)])};if(i.length===0)throw new Error("Pattern is required");return i.length===1?i[0]:i}},{key:"startContext",value:function(t){this.context.push(t)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(t){if(!t)throw new Error("Pattern is required");var n=t.match(Ht);if(!n){if(Wt.test(t))throw new Error("Illegal characters found in a pattern: ".concat(t));this.getContext().instructions=this.getContext().instructions.concat(t.split(""));return}var r=n[1],i=t.slice(0,n.index),o=t.slice(n.index+r.length);switch(r){case"(?:":i&&this.parsePattern(i),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(i&&this.parsePattern(i),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var l=this.getContext(),u=l.branches;u.push(D(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:u});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(i&&this.parsePattern(i),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(D(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":i&&this.parsePattern(i),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:Bt(i)});break;default:throw new Error("Unknown operator: ".concat(r))}o&&this.parsePattern(o)}}]),e}();function Bt(e){for(var a=[],t=0;t<e.length;){if(e[t]==="-"){if(t===0||t===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var n=e[t-1].charCodeAt(0)+1,r=e[t+1].charCodeAt(0)-1,i=n;i<=r;)a.push(String.fromCharCode(i)),i++}else a.push(e[t]);t++}return a}var Wt=/[\(\)\[\]\?\:\|]/,Ht=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function D(e){return e.length===1?e[0]:e}function W(e,a){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=Gt(e))||a&&e&&typeof e.length=="number"){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(e,a){if(e){if(typeof e=="string")return H(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H(e,a)}}function H(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function Vt(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function G(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yt(e,a,t){return a&&G(e.prototype,a),t&&G(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var qt=function(){function e(a){Vt(this,e),this.matchTree=new Ut().parse(a)}return Yt(e,[{key:"match",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.allowOverflow;if(!t)throw new Error("String is required");var i=R(t.split(""),this.matchTree,!0);if(i&&i.match&&delete i.matchedChars,!(i&&i.overflow&&!r))return i}}]),e}();function R(e,a,t){if(typeof a=="string"){var n=e.join("");return a.indexOf(n)===0?e.length===a.length?{match:!0,matchedChars:e}:{partialMatch:!0}:n.indexOf(a)===0?t&&e.length>a.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,a.length)}:void 0}if(Array.isArray(a)){for(var r=e.slice(),i=0;i<a.length;){var o=a[i],l=R(r,o,t&&i===a.length-1);if(l){if(l.overflow)return l;if(l.match){if(r=r.slice(l.matchedChars.length),r.length===0)return i===a.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(l.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(l,null,2)))}}else return;i++}return t?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-r.length)}}switch(a.op){case"|":for(var u,f=W(a.args),h;!(h=f()).done;){var p=h.value,s=R(e,p,t);if(s){if(s.overflow)return s;if(s.match)return{match:!0,matchedChars:s.matchedChars};if(s.partialMatch)u=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(s,null,2)))}}return u?{partialMatch:!0}:void 0;case"[]":for(var c=W(a.args),g;!(g=c()).done;){var d=g.value;if(e[0]===d)return e.length===1?{match:!0,matchedChars:e}:t?{overflow:!0}:{match:!0,matchedChars:[d]}}return;default:throw new Error("Unsupported instruction tree: ".concat(a))}}function V(e,a){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=zt(e))||a&&e&&typeof e.length=="number"){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(e,a){if(e){if(typeof e=="string")return Y(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Y(e,a)}}function Y(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function Xt(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function q(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jt(e,a,t){return a&&q(e.prototype,a),t&&q(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var O="9",Kt=15,Qt=A(O,Kt),Zt=/[- ]/,te=function(){return/\[([^\[\]])*\]/g},ee=function(){return/\d(?=[^,}][^,}])/g},ne=new RegExp("["+b+"]*\\$1["+b+"]*(\\$\\d["+b+"]*)*$"),z=3,ae=function(){function e(a){a.state;var t=a.metadata;Xt(this,e),this.metadata=t,this.resetFormat()}return Jt(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(t,n){this.resetFormat(),t?(this.isNANP=t.callingCode()==="1",this.matchingFormats=t.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(t,n){var r=this;if(Ot(n.nationalSignificantNumber,this.metadata))for(var i=V(this.matchingFormats),o;!(o=i()).done;){var l=o.value,u=Rt(n,l,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(h){return r.shouldTryNationalPrefixFormattingRule(h,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:function(h){return r.getSeparatorAfterNationalPrefix(h)}});if(u)return this.resetFormat(),this.chosenFormat=l,this.setNationalNumberTemplate(u.replace(/\d/g,y),n),this.populatedNationalNumberTemplate=u,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(y),u}return this.formatNationalNumberWithNextDigits(t,n)}},{key:"formatNationalNumberWithNextDigits",value:function(t,n){var r=this.chosenFormat,i=this.chooseFormat(n);if(i)return i===r?this.formatNextNationalNumberDigits(t):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(t){var n=this,r=t.nationalSignificantNumber,i=t.nationalPrefix,o=t.international,l=r,u=l.length-z;u<0&&(u=0),this.matchingFormats=this.matchingFormats.filter(function(f){return n.formatSuits(f,o,i)&&n.formatMatches(f,l,u)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(t,n,r){return!(r&&!t.usesNationalPrefix()&&!t.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!r&&t.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(t,n,r){var i=t.leadingDigitsPatterns().length;if(i===0)return!0;r=Math.min(r,i-1);var o=t.leadingDigitsPatterns()[r];if(n.length<z)try{return new qt(o).match(n,{allowOverflow:!0})!==void 0}catch(l){return console.error(l),!0}return new RegExp("^(".concat(o,")")).test(n)}},{key:"getFormatFormat",value:function(t,n){return n?t.internationalFormat():t.format()}},{key:"chooseFormat",value:function(t){for(var n=this,r=function(){var f=o.value;return n.chosenFormat===f?"break":ne.test(n.getFormatFormat(f,t.international))?n.createTemplateForFormat(f,t)?(n.chosenFormat=f,"break"):(n.matchingFormats=n.matchingFormats.filter(function(h){return h!==f}),"continue"):"continue"},i=V(this.matchingFormats.slice()),o;!(o=i()).done;){var l=r();if(l==="break")break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(t,n){if(!(t.pattern().indexOf("|")>=0)){var r=this.getTemplateForFormat(t,n);if(r)return this.setNationalNumberTemplate(r,n),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(t){return this.isNANP||t&&t.nationalPrefixFormattingRule()&&Zt.test(t.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(t,n){var r=t.IDDPrefix,i=t.missingPlus;return r?n&&n.spacing===!1?r:r+" ":i?"":"+"}},{key:"getTemplate",value:function(t){if(this.template){for(var n=-1,r=0,i=t.international?this.getInternationalPrefixBeforeCountryCallingCode(t,{spacing:!1}):"";r<i.length+t.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf(y,n+1),r++;return j(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(t,n){this.nationalNumberTemplate=t,this.populatedNationalNumberTemplate=t,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,y)+A(y,n.callingCode.length)+" "+t:this.template=t}},{key:"getTemplateForFormat",value:function(t,n){var r=n.nationalSignificantNumber,i=n.international,o=n.nationalPrefix,l=n.complexPrefixBeforeNationalSignificantNumber,u=t.pattern();u=u.replace(te(),"\\d").replace(ee(),"\\d");var f=Qt.match(u)[0];if(!(r.length>f.length)){var h=new RegExp("^"+u+"$"),p=r.replace(/\d/g,O);h.test(p)&&(f=p);var s=this.getFormatFormat(t,i),c;if(this.shouldTryNationalPrefixFormattingRule(t,{international:i,nationalPrefix:o})){var g=s.replace(mt,t.nationalPrefixFormattingRule());if(w(t.nationalPrefixFormattingRule())===(o||"")+w("$1")&&(s=g,c=!0,o))for(var d=o.length;d>0;)s=s.replace(/\d/,y),d--}var C=f.replace(new RegExp(u),s).replace(new RegExp(O,"g"),y);return c||(l?C=A(y,l.length)+" "+C:o&&(C=A(y,o.length)+this.getSeparatorAfterNationalPrefix(t)+C)),i&&(C=gt(C)),C}}},{key:"formatNextNationalNumberDigits",value:function(t){var n=Dt(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,t);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],j(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(t,n){var r=n.international,i=n.nationalPrefix;if(t.nationalPrefixFormattingRule()){var o=t.usesNationalPrefix();if(o&&i||!o&&!r)return!0}}}]),e}();function it(e,a){return le(e)||oe(e,a)||ie(e,a)||re()}function re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ie(e,a){if(e){if(typeof e=="string")return X(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X(e,a)}}function X(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function oe(e,a){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],r=!0,i=!1,o,l;try{for(t=t.call(e);!(r=(o=t.next()).done)&&(n.push(o.value),!(a&&n.length===a));r=!0);}catch(u){i=!0,l=u}finally{try{!r&&t.return!=null&&t.return()}finally{if(i)throw l}}return n}}function le(e){if(Array.isArray(e))return e}function ue(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function J(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e,a,t){return a&&J(e.prototype,a),t&&J(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var fe="["+b+F+"]+",ce=new RegExp("^"+fe+"$","i"),he="(?:["+Nt+"]["+b+F+"]*|["+b+F+"]+)",me=new RegExp("[^"+b+F+"]+.*$"),ge=/[^\d\[\]]/,de=function(){function e(a){var t=a.defaultCountry,n=a.defaultCallingCode,r=a.metadata,i=a.onNationalSignificantNumberChange;ue(this,e),this.defaultCountry=t,this.defaultCallingCode=n,this.metadata=r,this.onNationalSignificantNumberChange=i}return se(e,[{key:"input",value:function(t,n){var r=Ne(t),i=it(r,2),o=i[0],l=i[1],u=w(o),f;return l&&(n.digits||(n.startInternationalNumber(),u||(f=!0))),u&&this.inputDigits(u,n),{digits:u,justLeadingPlus:f}}},{key:"inputDigits",value:function(t,n){var r=n.digits,i=r.length<3&&r.length+t.length>=3;if(n.appendDigits(t),i&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(t);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),function(o){return n.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(t){var n=t.international,r=t.callingCode;return n&&!r}},{key:"extractCountryCallingCode",value:function(t){var n=dt("+"+t.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=n.countryCallingCode,i=n.number;if(r)return t.setCallingCode(r),t.update({nationalSignificantNumber:i}),!0}},{key:"reset",value:function(t){if(t){this.hasSelectedNumberingPlan=!0;var n=t._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&ge.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(t,n){if(this.hasSelectedNumberingPlan){var r=$(t,this.metadata),i=r.nationalPrefix,o=r.nationalNumber,l=r.carrierCode;if(o!==t)return this.onExtractedNationalNumber(i,l,o,t,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(t,n,r){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(t,r);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var i=$(t,this.metadata),o=i.nationalPrefix,l=i.nationalNumber,u=i.carrierCode;if(l!==n)return this.onExtractedNationalNumber(o,u,l,t,r),!0}}},{key:"onExtractedNationalNumber",value:function(t,n,r,i,o){var l,u,f=i.lastIndexOf(r);if(f>=0&&f===i.length-r.length){u=!0;var h=i.slice(0,f);h!==t&&(l=h)}o({nationalPrefix:t,carrierCode:n,nationalSignificantNumber:r,nationalSignificantNumberMatchesInput:u,complexPrefixBeforeNationalSignificantNumber:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(t){if(this.extractAnotherNationalSignificantNumber(t.getNationalDigits(),t.nationalSignificantNumber,function(n){return t.update(n)}))return!0;if(this.extractIddPrefix(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0;if(this.fixMissingPlus(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0}},{key:"extractIddPrefix",value:function(t){var n=t.international,r=t.IDDPrefix,i=t.digits;if(t.nationalSignificantNumber,!(n||r)){var o=pt(i,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==i)return t.update({IDDPrefix:i.slice(0,i.length-o.length)}),this.startInternationalNumber(t,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(t){if(!t.international){var n=yt(t.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=n.countryCallingCode;if(n.number,r)return t.update({missingPlus:!0}),this.startInternationalNumber(t,{country:t.country,callingCode:r}),!0}}},{key:"startInternationalNumber",value:function(t,n){var r=n.country,i=n.callingCode;t.startInternationalNumber(r,i),t.nationalSignificantNumber&&(t.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(t){this.extractCountryCallingCode(t)&&this.extractNationalSignificantNumber(t.getNationalDigits(),function(n){return t.update(n)})}}]),e}();function pe(e){var a=e.search(he);if(!(a<0)){e=e.slice(a);var t;return e[0]==="+"&&(t=!0,e=e.slice(1)),e=e.replace(me,""),t&&(e="+"+e),e}}function ye(e){var a=pe(e)||"";return a[0]==="+"?[a.slice(1),!0]:[a]}function Ne(e){var a=ye(e),t=it(a,2),n=t[0],r=t[1];return ce.test(n)||(n=""),[n,r]}function Ce(e,a){return Pe(e)||xe(e,a)||ve(e,a)||be()}function be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(e,a){if(e){if(typeof e=="string")return K(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K(e,a)}}function K(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function xe(e,a){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],r=!0,i=!1,o,l;try{for(t=t.call(e);!(r=(o=t.next()).done)&&(n.push(o.value),!(a&&n.length===a));r=!0);}catch(u){i=!0,l=u}finally{try{!r&&t.return!=null&&t.return()}finally{if(i)throw l}}return n}}function Pe(e){if(Array.isArray(e))return e}function Se(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Q(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Te(e,a,t){return a&&Q(e.prototype,a),t&&Q(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var ot=function(){function e(a,t){Se(this,e),this.metadata=new I(t);var n=this.getCountryAndCallingCode(a),r=Ce(n,2),i=r[0],o=r[1];this.defaultCountry=i,this.defaultCallingCode=o,this.reset()}return Te(e,[{key:"getCountryAndCallingCode",value:function(t){var n,r;return t&&(Ct(t)?(n=t.defaultCountry,r=t.defaultCallingCode):n=t),n&&!this.metadata.hasCountry(n)&&(n=void 0),[n,r]}},{key:"input",value:function(t){var n=this.parser.input(t,this.state),r=n.digits,i=n.justLeadingPlus;if(i)this.formattedOutput="+";else if(r){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(r,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var l=this.state.getNationalDigits();l&&(o=this.formatter.format(l,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var t=this;return this.state=new It({onCountryChange:function(r){t.country=r},onCallingCodeChange:function(r,i){t.metadata.selectNumberingPlan(i,r),t.formatter.reset(t.metadata.numberingPlan,t.state),t.parser.reset(t.metadata.numberingPlan)}}),this.formatter=new ae({state:this.state,metadata:this.metadata}),this.parser=new de({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){t.determineTheCountryIfNeeded(),t.formatter.reset(t.metadata.numberingPlan,t.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var t=this.state.digits;if(t)return this._getCountry()}},{key:"_getCountry",value:function(){var t=this.state.country;return t}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(t){var n=this;if(this.isInternational()){var r=function(l){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!l})+l},i=this.state.callingCode;return r(i?t?"".concat(i," ").concat(t):i:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return t}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var t=this.state,n=t.nationalSignificantNumber,r=t.complexPrefixBeforeNationalSignificantNumber,i=t.nationalPrefix,o=n,l=r||i;return l&&(o=l+o),o}},{key:"getNonFormattedNumber",value:function(){var t=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(t?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var t=this.getNonFormattedNumber();if(t)return t.replace(/[\+\d]/g,y)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var t=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(t);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(bt(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var t=this.state,n=t.digits,r=t.callingCode,i=t.country,o=t.nationalSignificantNumber;if(n){if(this.isInternational())return r?"+"+r+o:"+"+n;if(i||r){var l=i?this.metadata.countryCallingCode():r;return"+"+l+o}}}},{key:"getNumber",value:function(){var t=this.state,n=t.nationalSignificantNumber,r=t.carrierCode,i=t.callingCode,o=this._getCountry();if(n&&!(!o&&!i)){if(o&&o===this.defaultCountry){var l=new I(this.metadata.metadata);l.selectNumberingPlan(o);var u=l.numberingPlan.callingCode(),f=this.metadata.getCountryCodesForCallingCode(u);if(f.length>1){var h=vt(n,{countries:f,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});h&&(o=h)}}var p=new xt(o||i,n,this.metadata.metadata);return r&&(p.carrierCode=r),p}}},{key:"isPossible",value:function(){var t=this.getNumber();return t?t.isPossible():!1}},{key:"isValid",value:function(){var t=this.getNumber();return t?t.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}]),e}();function v(e){return ot.call(this,e,rt)}v.prototype=Object.create(ot.prototype,{});v.prototype.constructor=v;function Ae(){return Pt(St,arguments)}function E(){return I.call(this,rt)}E.prototype=Object.create(I.prototype,{});E.prototype.constructor=E;const lt=({visible:e,setVisible:a,onChange:t,textFieldRef:n,countryISO:r,value:i,flagURL:o,wrapperRef:l})=>{const[u,f]=N.useState(""),h=N.useRef();N.useEffect(()=>{const s=c=>{var g;((g=l.current)==null?void 0:g.contains(c.target))===!1&&a(!1)};return document.body.addEventListener("click",s),()=>document.body.removeEventListener("click",s)},[a,l]);const p=window.contactoCountryData.filter(s=>s[0].toLowerCase().indexOf(u)!==-1);return N.useEffect(()=>{f(""),setTimeout(()=>{var c;const s=h.current.querySelector(".selected");e&&(s!=null&&s.offsetTop)&&((c=h.current)==null||c.scrollTo({top:s.offsetTop-150}))},50)},[e]),m.createElement("div",null,m.createElement(_,{className:"sg-country-search"},m.createElement(nt,{type:"search-box",onChange:s=>f(s.target.value.toLowerCase()),value:u,allowClear:!0})),m.createElement("div",{className:"sg-country-list-holder",ref:h},p.length?p.map((s,c)=>m.createElement(_,{key:c,className:`sg-country-list-item ${s[1]===r.current?"selected":""}`,gap:8,onClick:()=>{const g=new v(s[1]);i&&g.input(i),r.current=s[1],t({target:{value:`+${s[2]} ${g.getNationalNumber()}`}}),n==null||n.current.focus({cursor:"end"})}},m.createElement(at.Flag,{iso:s[1],url:o||"/style-guide/symbol-defs.svg",circle:!0,size:20}),m.createElement(ft,{className:"sg-country-list-item-label",type:"caption"},m.createElement("span",{className:"sg-country-list-item-label__country-name"},s[0]),m.createElement("span",{className:"sg-country-list-item-label__country-code"},"+",s[2])))):m.createElement(_,{className:"sg-country-list-item"},"No Countries found")))},we=lt;lt.__docgenInfo={description:"",methods:[],displayName:"CountryDropdown"};const ut=new E().metadata.country_calling_codes,Fe=new Intl.DisplayNames(["en"],{type:"region"});window.contactoCountryData=Array.from(new Set(["US","GB","FR",...Object.values(ut).map(e=>e[0]).sort()])).map(e=>[Fe.of(e),e,Ae(e)]);const Ie=(e,a)=>{const t=/[(-)\s+]/g,n=e==null?void 0:e.replace(t,"");return(n==null?void 0:n.length)<6&&n===(a==null?void 0:a.replace(t,""))?n==null?void 0:n.substr(0,n.length-1):n},S=({value:e,onChange:a,className:t,flagURL:n,...r})=>{const i=N.useRef(),o=N.useRef(),l=N.useRef(),[u,f]=N.useState(!1),[h,p]=N.useState(e),s=N.useRef();return N.useEffect(()=>{var C;f(!1);let c=Ie(e,i.current);const g=(C=ut[c])==null?void 0:C[0];s.current=g||s.current,c&&c[0]!=="+"&&(c="+"+c);let d=c;if((d==null?void 0:d.length)<1&&(s.current=null),c&&c.length>3){const T=new v(s.current);T.input(c),s.current=T.getCountry()||s.current;const st=T.getNationalNumber();d=c&&`+${T.getCallingCode()||""} ${new v(s.current).input(st)}`}i.current=d,p(d)},[e]),m.createElement(Tt,{placement:"bottomLeft",trigger:"click",visible:u,zIndex:1e3,content:m.createElement(we,{visible:u,setVisible:f,onChange:a,textFieldRef:o,countryISO:s,value:h,flagURL:n,wrapperRef:l}),overlayClassName:"sg country-dropdown",getPopupContainer:()=>l.current},m.createElement("div",{ref:l},m.createElement(nt,{ref:o,...r,value:h,className:[t,"sg","contacto-country-input",u?"dropdown-open":""].join(" "),icon:m.createElement("span",{className:"country-flag-icon",onClick:()=>f(!u)},m.createElement(at.Flag,{url:n||"/style-guide/symbol-defs.svg",iso:s.current||"unknown",circle:!0,size:20})),onChange:({target:{value:c}})=>{if(c.length>8){const g=new v;g.input(c),!!g.formatter.matchingFormats.length||(c=c.substr(0,c.length-1))}a({target:{value:c}})}})))};S.propTypes={className:x.string,value:x.string,placeholder:x.string,onChange:x.any,flagURL:x.any};S.defaultProps={size:"default",type:"input"};S.__docgenInfo={description:"",methods:[],displayName:"PhoneNumberInput",props:{size:{defaultValue:{value:"'default'",computed:!1},required:!1},type:{defaultValue:{value:"'input'",computed:!1},required:!1},className:{description:"",type:{name:"string"},required:!1},value:{description:"How large should the textfield be?",type:{name:"string"},required:!1},placeholder:{description:"Placeholder Text",type:{name:"string"},required:!1},onChange:{description:"Set to true, if you don't want the shadow.",type:{name:"any"},required:!1},flagURL:{description:"",type:{name:"any"},required:!1}}};const mn={title:"Components/Phone number Input",component:S,argTypes:{size:{options:["small","default","large"],control:{type:"select"}}},decorators:[e=>m.createElement("div",{style:{width:"280px"}},e())]},Ee=()=>{const[e,a]=At();return m.createElement(S,{...e,onChange:({target:{value:t}})=>{a({value:t})}})},P=Ee.bind({});P.args={placeholder:"Enter number"};var Z,tt,et;P.parameters={...P.parameters,docs:{...(Z=P.parameters)==null?void 0:Z.docs,source:{originalSource:`() => {
  const [args, updateArgs] = useArgs();
  return <PhoneNumberInput {...args} onChange={({
    target: {
      value
    }
  }) => {
    updateArgs({
      value
    });
  }} />;
}`,...(et=(tt=P.parameters)==null?void 0:tt.docs)==null?void 0:et.source}}};const gn=["Default"];export{P as Default,gn as __namedExportsOrder,mn as default};
