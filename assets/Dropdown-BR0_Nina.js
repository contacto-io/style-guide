import{A as An,e as A,f as B,ab as _n,t as pe,w as Re,h as w,g as F,p as Lt,Y as kn,c as oe,F as Dn,G as Ln,H as $n,I as Tn,o as $t,q as Vn,m as Fn}from"./index-CTNOGpui.js";import{r as t}from"./index-Dl6G-zuu.js";import{_ as Y}from"./assertThisInitialized-BIGTeGEP.js";import{F as Te}from"./iconUtil-XvgpoNC6.js";import{i as Tt,u as Xe}from"./index-B2BRC2NR.js";import{r as zn}from"./index-B_8YWI8i.js";import{K as te}from"./statusUtils-DN1vxHNy.js";import{t as Un}from"./toArray-Rh0cCEsr.js";import{i as Wn,T as Vt}from"./index-mFXttzbh.js";var Hn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const jn=Hn;var Ft=function(n,a){return t.createElement(An,A(A({},n),{},{ref:a,icon:jn}))};Ft.displayName="EllipsisOutlined";const Wr=t.forwardRef(Ft);var zt=t.createContext(null);function ft(e,n){return e===void 0?null:"".concat(e,"-").concat(n)}function Ut(e){var n=t.useContext(zt);return ft(n,e)}var qn=["children","locked"],ee=t.createContext(null);function Gn(e,n){var a=A({},e);return Object.keys(n).forEach(function(o){var r=n[o];r!==void 0&&(a[o]=r)}),a}function Ve(e){var n=e.children,a=e.locked,o=B(e,qn),r=t.useContext(ee),l=_n(function(){return Gn(r,o)},[r,o],function(i,u){return!a&&(i[0]!==u[0]||!Tt(i[1],u[1],!0))});return t.createElement(ee.Provider,{value:l},n)}var Yn=[],Wt=t.createContext(null);function et(){return t.useContext(Wt)}var Ht=t.createContext(Yn);function Fe(e){var n=t.useContext(Ht);return t.useMemo(function(){return e!==void 0?[].concat(pe(n),[e]):n},[n,e])}var jt=t.createContext(null),mt=t.createContext({});function Ot(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Wn(e)){var a=e.nodeName.toLowerCase(),o=["input","select","textarea","button"].includes(a)||e.isContentEditable||a==="a"&&!!e.getAttribute("href"),r=e.getAttribute("tabindex"),l=Number(r),i=null;return r&&!Number.isNaN(l)?i=l:o&&i===null&&(i=0),o&&e.disabled&&(i=null),i!==null&&(i>=0||n&&i<0)}return!1}function qt(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=pe(e.querySelectorAll("*")).filter(function(o){return Ot(o,n)});return Ot(e,n)&&a.unshift(e),a}var ut=te.LEFT,st=te.RIGHT,ct=te.UP,Je=te.DOWN,Ze=te.ENTER,Gt=te.ESC,Le=te.HOME,$e=te.END,At=[ct,Je,ut,st];function Bn(e,n,a,o){var r,l,i,u,s="prev",c="next",m="children",g="parent";if(e==="inline"&&o===Ze)return{inlineTrigger:!0};var v=(r={},w(r,ct,s),w(r,Je,c),r),h=(l={},w(l,ut,a?c:s),w(l,st,a?s:c),w(l,Je,m),w(l,Ze,m),l),d=(i={},w(i,ct,s),w(i,Je,c),w(i,Ze,m),w(i,Gt,g),w(i,ut,a?m:g),w(i,st,a?g:m),i),y={inline:v,horizontal:h,vertical:d,inlineSub:v,horizontalSub:d,verticalSub:d},M=(u=y["".concat(e).concat(n?"":"Sub")])===null||u===void 0?void 0:u[o];switch(M){case s:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case g:return{offset:-1,sibling:!1};case m:return{offset:1,sibling:!1};default:return null}}function Xn(e){for(var n=e;n;){if(n.getAttribute("data-menu-list"))return n;n=n.parentElement}return null}function Jn(e,n){for(var a=e||document.activeElement;a;){if(n.has(a))return a;a=a.parentElement}return null}function Yt(e,n){var a=qt(e,!0);return a.filter(function(o){return n.has(o)})}function _t(e,n,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var r=Yt(e,n),l=r.length,i=r.findIndex(function(u){return a===u});return o<0?i===-1?i=l-1:i-=1:o>0&&(i+=1),i=(i+l)%l,r[i]}function Zn(e,n,a,o,r,l,i,u,s,c){var m=t.useRef(),g=t.useRef();g.current=n;var v=function(){Re.cancel(m.current)};return t.useEffect(function(){return function(){v()}},[]),function(h){var d=h.which;if([].concat(At,[Ze,Gt,Le,$e]).includes(d)){var y,M,S,K=function(){y=new Set,M=new Map,S=new Map;var V=l();return V.forEach(function(k){var _=document.querySelector("[data-menu-id='".concat(ft(o,k),"']"));_&&(y.add(_),S.set(_,k),M.set(k,_))}),y};K();var C=M.get(n),p=Jn(C,y),b=S.get(p),f=Bn(e,i(b,!0).length===1,a,d);if(!f&&d!==Le&&d!==$e)return;(At.includes(d)||[Le,$e].includes(d))&&h.preventDefault();var U=function(V){if(V){var k=V,_=V.querySelector("a");_!=null&&_.getAttribute("href")&&(k=_);var ne=S.get(V);u(ne),v(),m.current=Re(function(){g.current===ne&&k.focus()})}};if([Le,$e].includes(d)||f.sibling||!p){var x;!p||e==="inline"?x=r.current:x=Xn(p);var W,T=Yt(x,y);d===Le?W=T[0]:d===$e?W=T[T.length-1]:W=_t(x,y,p,f.offset),U(W)}else if(f.inlineTrigger)s(b);else if(f.offset>0)s(b,!0),v(),m.current=Re(function(){K();var $=p.getAttribute("aria-controls"),V=document.getElementById($),k=_t(V,y);U(k)},5);else if(f.offset<0){var O=i(b,!0),L=O[O.length-2],Z=M.get(L);s(L,!1),U(Z)}}c==null||c(h)}}function Qn(e){Promise.resolve().then(e)}var pt="__RC_UTIL_PATH_SPLIT__",kt=function(n){return n.join(pt)},er=function(n){return n.split(pt)},vt="rc-menu-more";function tr(){var e=t.useState({}),n=F(e,2),a=n[1],o=t.useRef(new Map),r=t.useRef(new Map),l=t.useState([]),i=F(l,2),u=i[0],s=i[1],c=t.useRef(0),m=t.useRef(!1),g=function(){m.current||a({})},v=t.useCallback(function(C,p){var b=kt(p);r.current.set(b,C),o.current.set(C,b),c.current+=1;var f=c.current;Qn(function(){f===c.current&&g()})},[]),h=t.useCallback(function(C,p){var b=kt(p);r.current.delete(b),o.current.delete(C)},[]),d=t.useCallback(function(C){s(C)},[]),y=t.useCallback(function(C,p){var b=o.current.get(C)||"",f=er(b);return p&&u.includes(f[0])&&f.unshift(vt),f},[u]),M=t.useCallback(function(C,p){return C.some(function(b){var f=y(b,!0);return f.includes(p)})},[y]),S=function(){var p=pe(o.current.keys());return u.length&&p.push(vt),p},K=t.useCallback(function(C){var p="".concat(o.current.get(C)).concat(pt),b=new Set;return pe(r.current.keys()).forEach(function(f){f.startsWith(p)&&b.add(r.current.get(f))}),b},[]);return t.useEffect(function(){return function(){m.current=!0}},[]),{registerPath:v,unregisterPath:h,refreshOverflowKeys:d,isSubPathKey:M,getKeyPath:y,getKeys:S,getSubPathKeys:K}}function Ee(e){var n=t.useRef(e);n.current=e;var a=t.useCallback(function(){for(var o,r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(o=n.current)===null||o===void 0?void 0:o.call.apply(o,[n].concat(l))},[]);return e?a:void 0}var nr=Math.random().toFixed(5).toString().slice(2),Dt=0;function rr(e){var n=Xe(e,{value:e}),a=F(n,2),o=a[0],r=a[1];return t.useEffect(function(){Dt+=1;var l="".concat(nr,"-").concat(Dt);r("rc-menu-uuid-".concat(l))},[]),o}function Bt(e,n,a,o){var r=t.useContext(ee),l=r.activeKey,i=r.onActive,u=r.onInactive,s={active:l===e};return n||(s.onMouseEnter=function(c){a==null||a({key:e,domEvent:c}),i(e)},s.onMouseLeave=function(c){o==null||o({key:e,domEvent:c}),u(e)}),s}function Xt(e){var n=t.useContext(ee),a=n.mode,o=n.rtl,r=n.inlineIndent;if(a!=="inline")return null;var l=e;return o?{paddingRight:l*r}:{paddingLeft:l*r}}function Jt(e){var n=e.icon,a=e.props,o=e.children,r;return typeof n=="function"?r=t.createElement(n,A({},a)):r=n,r||o||null}var ar=["item"];function Qe(e){var n=e.item,a=B(e,ar);return Object.defineProperty(a,"item",{get:function(){return Lt(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),n}}),a}var ir=["title","attribute","elementRef"],or=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],lr=["active"],ur=function(e){Dn(a,e);var n=Ln(a);function a(){return $n(this,a),n.apply(this,arguments)}return Tn(a,[{key:"render",value:function(){var r=this.props,l=r.title,i=r.attribute,u=r.elementRef,s=B(r,ir),c=$t(s,["eventKey","popupClassName","popupOffset","onTitleClick"]);return Lt(!i,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),t.createElement(Te.Item,Y({},i,{title:typeof l=="string"?l:void 0},c,{ref:u}))}}]),a}(t.Component),sr=t.forwardRef(function(e,n){var a,o=e.style,r=e.className,l=e.eventKey;e.warnKey;var i=e.disabled,u=e.itemIcon,s=e.children,c=e.role,m=e.onMouseEnter,g=e.onMouseLeave,v=e.onClick,h=e.onKeyDown,d=e.onFocus,y=B(e,or),M=Ut(l),S=t.useContext(ee),K=S.prefixCls,C=S.onItemClick,p=S.disabled,b=S.overflowDisabled,f=S.itemIcon,U=S.selectedKeys,x=S.onActive,W=t.useContext(mt),T=W._internalRenderMenuItem,O="".concat(K,"-item"),L=t.useRef(),Z=t.useRef(),$=p||i,V=kn(n,Z),k=Fe(l),_=function(j){return{key:l,keyPath:pe(k).reverse(),item:L.current,domEvent:j}},ne=u||f,le=Bt(l,$,m,g),re=le.active,Q=B(le,lr),D=U.includes(l),I=Xt(k.length),R=function(j){if(!$){var z=_(j);v==null||v(Qe(z)),C(z)}},H=function(j){if(h==null||h(j),j.which===te.ENTER){var z=_(j);v==null||v(Qe(z)),C(z)}},ge=function(j){x(l),d==null||d(j)},he={};e.role==="option"&&(he["aria-selected"]=D);var ve=t.createElement(ur,Y({ref:L,elementRef:V,role:c===null?"none":c||"menuitem",tabIndex:i?null:-1,"data-menu-id":b&&M?null:M},y,Q,he,{component:"li","aria-disabled":i,style:A(A({},I),o),className:oe(O,(a={},w(a,"".concat(O,"-active"),re),w(a,"".concat(O,"-selected"),D),w(a,"".concat(O,"-disabled"),$),a),r),onClick:R,onKeyDown:H,onFocus:ge}),s,t.createElement(Jt,{props:A(A({},e),{},{isSelected:D}),icon:ne}));return T&&(ve=T(ve,e,{selected:D})),ve});function cr(e,n){var a=e.eventKey,o=et(),r=Fe(a);return t.useEffect(function(){if(o)return o.registerPath(a,r),function(){o.unregisterPath(a,r)}},[r]),o?null:t.createElement(sr,Y({},e,{ref:n}))}const gt=t.forwardRef(cr);var vr=["className","children"],dr=function(n,a){var o=n.className,r=n.children,l=B(n,vr),i=t.useContext(ee),u=i.prefixCls,s=i.mode,c=i.rtl;return t.createElement("ul",Y({className:oe(u,c&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat(s==="inline"?"inline":"vertical"),o),role:"menu"},l,{"data-menu-list":!0,ref:a}),r)},ht=t.forwardRef(dr);ht.displayName="SubMenuList";var fr=["label","children","key","type"];function Ct(e,n){return Un(e).map(function(a,o){if(t.isValidElement(a)){var r,l,i=a.key,u=(r=(l=a.props)===null||l===void 0?void 0:l.eventKey)!==null&&r!==void 0?r:i,s=u==null;s&&(u="tmp_key-".concat([].concat(pe(n),[o]).join("-")));var c={key:u,eventKey:u};return t.cloneElement(a,c)}return a})}function dt(e){return(e||[]).map(function(n,a){if(n&&Vn(n)==="object"){var o=n,r=o.label,l=o.children,i=o.key,u=o.type,s=B(o,fr),c=i??"tmp-".concat(a);return l||u==="group"?u==="group"?t.createElement(Qt,Y({key:c},s,{title:r}),dt(l)):t.createElement(bt,Y({key:c},s,{title:r}),dt(l)):u==="divider"?t.createElement(en,Y({key:c},s)):t.createElement(gt,Y({key:c},s),r)}return null}).filter(function(n){return n})}function mr(e,n,a){var o=e;return n&&(o=dt(n)),Ct(o,a)}var ce={adjustX:1,adjustY:1},pr={topLeft:{points:["bl","tl"],overflow:ce,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ce,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:ce,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:ce,offset:[4,0]}},gr={topLeft:{points:["bl","tl"],overflow:ce,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ce,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:ce,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:ce,offset:[4,0]}};function Zt(e,n,a){if(n)return n;if(a)return a[e]||a.other}var hr={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Cr(e){var n=e.prefixCls,a=e.visible,o=e.children,r=e.popup,l=e.popupClassName,i=e.popupOffset,u=e.disabled,s=e.mode,c=e.onVisibleChange,m=t.useContext(ee),g=m.getPopupContainer,v=m.rtl,h=m.subMenuOpenDelay,d=m.subMenuCloseDelay,y=m.builtinPlacements,M=m.triggerSubMenuAction,S=m.forceSubMenuRender,K=m.rootClassName,C=m.motion,p=m.defaultMotions,b=t.useState(!1),f=F(b,2),U=f[0],x=f[1],W=v?A(A({},gr),y):A(A({},pr),y),T=hr[s],O=Zt(s,C,p),L=t.useRef(O);s!=="inline"&&(L.current=O);var Z=A(A({},L.current),{},{leavedClassName:"".concat(n,"-hidden"),removeOnLeave:!1,motionAppear:!0}),$=t.useRef();return t.useEffect(function(){return $.current=Re(function(){x(a)}),function(){Re.cancel($.current)}},[a]),t.createElement(Vt,{prefixCls:n,popupClassName:oe("".concat(n,"-popup"),w({},"".concat(n,"-rtl"),v),l,K),stretch:s==="horizontal"?"minWidth":null,getPopupContainer:g,builtinPlacements:W,popupPlacement:T,popupVisible:U,popup:r,popupAlign:i&&{offset:i},action:u?[]:[M],mouseEnterDelay:h,mouseLeaveDelay:d,onPopupVisibleChange:c,forceRender:S,popupMotion:Z},o)}function br(e){var n=e.id,a=e.open,o=e.keyPath,r=e.children,l="inline",i=t.useContext(ee),u=i.prefixCls,s=i.forceSubMenuRender,c=i.motion,m=i.defaultMotions,g=i.mode,v=t.useRef(!1);v.current=g===l;var h=t.useState(!v.current),d=F(h,2),y=d[0],M=d[1],S=v.current?a:!1;t.useEffect(function(){v.current&&M(!1)},[g]);var K=A({},Zt(l,c,m));o.length>1&&(K.motionAppear=!1);var C=K.onVisibleChanged;return K.onVisibleChanged=function(p){return!v.current&&!p&&M(!0),C==null?void 0:C(p)},y?null:t.createElement(Ve,{mode:l,locked:!v.current},t.createElement(Fn,Y({visible:S},K,{forceRender:s,removeOnLeave:!1,leavedClassName:"".concat(u,"-hidden")}),function(p){var b=p.className,f=p.style;return t.createElement(ht,{id:n,className:b,style:f},r)}))}var yr=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Ir=["active"],Mr=function(n){var a,o=n.style,r=n.className,l=n.title,i=n.eventKey;n.warnKey;var u=n.disabled,s=n.internalPopupClose,c=n.children,m=n.itemIcon,g=n.expandIcon,v=n.popupClassName,h=n.popupOffset,d=n.onClick,y=n.onMouseEnter,M=n.onMouseLeave,S=n.onTitleClick,K=n.onTitleMouseEnter,C=n.onTitleMouseLeave,p=B(n,yr),b=Ut(i),f=t.useContext(ee),U=f.prefixCls,x=f.mode,W=f.openKeys,T=f.disabled,O=f.overflowDisabled,L=f.activeKey,Z=f.selectedKeys,$=f.itemIcon,V=f.expandIcon,k=f.onItemClick,_=f.onOpenChange,ne=f.onActive,le=t.useContext(mt),re=le._internalRenderSubMenuItem,Q=t.useContext(jt),D=Q.isSubPathKey,I=Fe(),R="".concat(U,"-submenu"),H=T||u,ge=t.useRef(),he=t.useRef(),ve=m||$,ue=g||V,j=W.includes(i),z=!O&&j,ze=D(Z,i),Ue=Bt(i,H,K,C),xe=Ue.active,Pe=B(Ue,Ir),we=t.useState(!1),We=F(we,2),Ne=We[0],He=We[1],je=function(J){H||He(J)},ae=function(J){je(!0),y==null||y({key:i,domEvent:J})},nt=function(J){je(!1),M==null||M({key:i,domEvent:J})},Ke=t.useMemo(function(){return xe||(x!=="inline"?Ne||D([L],i):!1)},[x,xe,L,Ne,i,D]),qe=Xt(I.length),rt=function(J){H||(S==null||S({key:i,domEvent:J}),x==="inline"&&_(i,!j))},Ce=Ee(function(ie){d==null||d(Qe(ie)),k(ie)}),Oe=function(J){x!=="inline"&&_(i,J)},Ae=function(){ne(i)},_e=b&&"".concat(b,"-popup"),be=t.createElement("div",Y({role:"menuitem",style:qe,className:"".concat(R,"-title"),tabIndex:H?null:-1,ref:ge,title:typeof l=="string"?l:null,"data-menu-id":O&&b?null:b,"aria-expanded":z,"aria-haspopup":!0,"aria-controls":_e,"aria-disabled":H,onClick:rt,onFocus:Ae},Pe),l,t.createElement(Jt,{icon:x!=="horizontal"?ue:null,props:A(A({},n),{},{isOpen:z,isSubMenu:!0})},t.createElement("i",{className:"".concat(R,"-arrow")}))),X=t.useRef(x);if(x!=="inline"&&I.length>1?X.current="vertical":X.current=x,!O){var ye=X.current;be=t.createElement(Cr,{mode:ye,prefixCls:R,visible:!s&&z&&x!=="inline",popupClassName:v,popupOffset:h,popup:t.createElement(Ve,{mode:ye==="horizontal"?"vertical":ye},t.createElement(ht,{id:_e,ref:he},c)),disabled:H,onVisibleChange:Oe},be)}var de=t.createElement(Te.Item,Y({role:"none"},p,{component:"li",style:o,className:oe(R,"".concat(R,"-").concat(x),r,(a={},w(a,"".concat(R,"-open"),z),w(a,"".concat(R,"-active"),Ke),w(a,"".concat(R,"-selected"),ze),w(a,"".concat(R,"-disabled"),H),a)),onMouseEnter:ae,onMouseLeave:nt}),be,!O&&t.createElement(br,{id:_e,open:z,keyPath:I},c));return re&&(de=re(de,n,{selected:ze,active:Ke,open:z,disabled:H})),t.createElement(Ve,{onItemClick:Ce,mode:x==="horizontal"?"vertical":x,itemIcon:ve,expandIcon:ue},de)};function bt(e){var n=e.eventKey,a=e.children,o=Fe(n),r=Ct(a,o),l=et();t.useEffect(function(){if(l)return l.registerPath(n,o),function(){l.unregisterPath(n,o)}},[o]);var i;return l?i=r:i=t.createElement(Mr,e,r),t.createElement(Ht.Provider,{value:o},i)}var Sr=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Ie=[],Er=t.forwardRef(function(e,n){var a,o,r=e,l=r.prefixCls,i=l===void 0?"rc-menu":l,u=r.rootClassName,s=r.style,c=r.className,m=r.tabIndex,g=m===void 0?0:m,v=r.items,h=r.children,d=r.direction,y=r.id,M=r.mode,S=M===void 0?"vertical":M,K=r.inlineCollapsed,C=r.disabled,p=r.disabledOverflow,b=r.subMenuOpenDelay,f=b===void 0?.1:b,U=r.subMenuCloseDelay,x=U===void 0?.1:U,W=r.forceSubMenuRender,T=r.defaultOpenKeys,O=r.openKeys,L=r.activeKey,Z=r.defaultActiveFirst,$=r.selectable,V=$===void 0?!0:$,k=r.multiple,_=k===void 0?!1:k,ne=r.defaultSelectedKeys,le=r.selectedKeys,re=r.onSelect,Q=r.onDeselect,D=r.inlineIndent,I=D===void 0?24:D,R=r.motion,H=r.defaultMotions,ge=r.triggerSubMenuAction,he=ge===void 0?"hover":ge,ve=r.builtinPlacements,ue=r.itemIcon,j=r.expandIcon,z=r.overflowedIndicator,ze=z===void 0?"...":z,Ue=r.overflowedIndicatorPopupClassName,xe=r.getPopupContainer,Pe=r.onClick,we=r.onOpenChange,We=r.onKeyDown;r.openAnimation,r.openTransitionName;var Ne=r._internalRenderMenuItem,He=r._internalRenderSubMenuItem,je=B(r,Sr),ae=t.useMemo(function(){return mr(h,v,Ie)},[h,v]),nt=t.useState(!1),Ke=F(nt,2),qe=Ke[0],rt=Ke[1],Ce=t.useRef(),Oe=rr(y),Ae=d==="rtl",_e=Xe(T,{value:O,postState:function(E){return E||Ie}}),be=F(_e,2),X=be[0],ye=be[1],de=function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function q(){ye(E),we==null||we(E)}P?zn.flushSync(q):q()},ie=t.useState(X),J=F(ie,2),tn=J[0],nn=J[1],at=t.useRef(!1),rn=t.useMemo(function(){return(S==="inline"||S==="vertical")&&K?["vertical",K]:[S,!1]},[S,K]),yt=F(rn,2),Ge=yt[0],it=yt[1],It=Ge==="inline",an=t.useState(Ge),Mt=F(an,2),se=Mt[0],on=Mt[1],ln=t.useState(it),St=F(ln,2),un=St[0],sn=St[1];t.useEffect(function(){on(Ge),sn(it),at.current&&(It?ye(tn):de(Ie))},[Ge,it]);var cn=t.useState(0),Et=F(cn,2),Ye=Et[0],vn=Et[1],ot=Ye>=ae.length-1||se!=="horizontal"||p;t.useEffect(function(){It&&nn(X)},[X]),t.useEffect(function(){return at.current=!0,function(){at.current=!1}},[]);var fe=tr(),Rt=fe.registerPath,xt=fe.unregisterPath,dn=fe.refreshOverflowKeys,Pt=fe.isSubPathKey,fn=fe.getKeyPath,mn=fe.getKeys,pn=fe.getSubPathKeys,gn=t.useMemo(function(){return{registerPath:Rt,unregisterPath:xt}},[Rt,xt]),hn=t.useMemo(function(){return{isSubPathKey:Pt}},[Pt]);t.useEffect(function(){dn(ot?Ie:ae.slice(Ye+1).map(function(N){return N.key}))},[Ye,ot]);var Cn=Xe(L||Z&&((a=ae[0])===null||a===void 0?void 0:a.key),{value:L}),wt=F(Cn,2),ke=wt[0],lt=wt[1],bn=Ee(function(N){lt(N)}),yn=Ee(function(){lt(void 0)});t.useImperativeHandle(n,function(){return{list:Ce.current,focus:function(E){var P,q=ke??((P=ae.find(function(On){return!On.props.disabled}))===null||P===void 0?void 0:P.key);if(q){var G,me,De;(G=Ce.current)===null||G===void 0||(me=G.querySelector("li[data-menu-id='".concat(ft(Oe,q),"']")))===null||me===void 0||(De=me.focus)===null||De===void 0||De.call(me,E)}}}});var In=Xe(ne||[],{value:le,postState:function(E){return Array.isArray(E)?E:E==null?Ie:[E]}}),Nt=F(In,2),Be=Nt[0],Mn=Nt[1],Sn=function(E){if(V){var P=E.key,q=Be.includes(P),G;_?q?G=Be.filter(function(De){return De!==P}):G=[].concat(pe(Be),[P]):G=[P],Mn(G);var me=A(A({},E),{},{selectedKeys:G});q?Q==null||Q(me):re==null||re(me)}!_&&X.length&&se!=="inline"&&de(Ie)},En=Ee(function(N){Pe==null||Pe(Qe(N)),Sn(N)}),Kt=Ee(function(N,E){var P=X.filter(function(G){return G!==N});if(E)P.push(N);else if(se!=="inline"){var q=pn(N);P=P.filter(function(G){return!q.has(G)})}Tt(X,P,!0)||de(P,!0)}),Rn=Ee(xe),xn=function(E,P){var q=P??!X.includes(E);Kt(E,q)},Pn=Zn(se,ke,Ae,Oe,Ce,mn,fn,lt,xn,We);t.useEffect(function(){rt(!0)},[]);var wn=t.useMemo(function(){return{_internalRenderMenuItem:Ne,_internalRenderSubMenuItem:He}},[Ne,He]),Nn=se!=="horizontal"||p?ae:ae.map(function(N,E){return t.createElement(Ve,{key:N.key,overflowDisabled:E>Ye},N)}),Kn=t.createElement(Te,Y({id:y,ref:Ce,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:gt,className:oe(i,"".concat(i,"-root"),"".concat(i,"-").concat(se),c,(o={},w(o,"".concat(i,"-inline-collapsed"),un),w(o,"".concat(i,"-rtl"),Ae),o),u),dir:d,style:s,role:"menu",tabIndex:g,data:Nn,renderRawItem:function(E){return E},renderRawRest:function(E){var P=E.length,q=P?ae.slice(-P):null;return t.createElement(bt,{eventKey:vt,title:ze,disabled:ot,internalPopupClose:P===0,popupClassName:Ue},q)},maxCount:se!=="horizontal"||p?Te.INVALIDATE:Te.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(E){vn(E)},onKeyDown:Pn},je));return t.createElement(mt.Provider,{value:wn},t.createElement(zt.Provider,{value:Oe},t.createElement(Ve,{prefixCls:i,rootClassName:u,mode:se,openKeys:X,rtl:Ae,disabled:C,motion:qe?R:null,defaultMotions:qe?H:null,activeKey:ke,onActive:bn,onInactive:yn,selectedKeys:Be,inlineIndent:I,subMenuOpenDelay:f,subMenuCloseDelay:x,forceSubMenuRender:W,builtinPlacements:ve,triggerSubMenuAction:he,getPopupContainer:Rn,itemIcon:ue,expandIcon:j,onItemClick:En,onOpenChange:Kt},t.createElement(jt.Provider,{value:hn},Kn),t.createElement("div",{style:{display:"none"},"aria-hidden":!0},t.createElement(Wt.Provider,{value:gn},ae)))))}),Rr=["className","title","eventKey","children"],xr=["children"],Pr=function(n){var a=n.className,o=n.title;n.eventKey;var r=n.children,l=B(n,Rr),i=t.useContext(ee),u=i.prefixCls,s="".concat(u,"-item-group");return t.createElement("li",Y({role:"presentation"},l,{onClick:function(m){return m.stopPropagation()},className:oe(s,a)}),t.createElement("div",{role:"presentation",className:"".concat(s,"-title"),title:typeof o=="string"?o:void 0},o),t.createElement("ul",{role:"group",className:"".concat(s,"-list")},r))};function Qt(e){var n=e.children,a=B(e,xr),o=Fe(a.eventKey),r=Ct(n,o),l=et();return l?r:t.createElement(Pr,$t(a,["warnKey"]),r)}function en(e){var n=e.className,a=e.style,o=t.useContext(ee),r=o.prefixCls,l=et();return l?null:t.createElement("li",{className:oe("".concat(r,"-item-divider"),n),style:a})}var tt=Er;tt.Item=gt;tt.SubMenu=bt;tt.ItemGroup=Qt;tt.Divider=en;var Me={adjustX:1,adjustY:1},Se=[0,0],wr={topLeft:{points:["bl","tl"],overflow:Me,offset:[0,-4],targetOffset:Se},topCenter:{points:["bc","tc"],overflow:Me,offset:[0,-4],targetOffset:Se},topRight:{points:["br","tr"],overflow:Me,offset:[0,-4],targetOffset:Se},bottomLeft:{points:["tl","bl"],overflow:Me,offset:[0,4],targetOffset:Se},bottomCenter:{points:["tc","bc"],overflow:Me,offset:[0,4],targetOffset:Se},bottomRight:{points:["tr","br"],overflow:Me,offset:[0,4],targetOffset:Se}},Nr=te.ESC,Kr=te.TAB;function Or(e){var n=e.visible,a=e.setTriggerVisible,o=e.triggerRef,r=e.onVisibleChange,l=e.autoFocus,i=t.useRef(!1),u=function(){if(n&&o.current){var g,v,h,d;(g=o.current)===null||g===void 0||(v=g.triggerRef)===null||v===void 0||(h=v.current)===null||h===void 0||(d=h.focus)===null||d===void 0||d.call(h),a(!1),typeof r=="function"&&r(!1)}},s=function(){var g,v,h,d,y=qt((g=o.current)===null||g===void 0||(v=g.popupRef)===null||v===void 0||(h=v.current)===null||h===void 0||(d=h.getElement)===null||d===void 0?void 0:d.call(h)),M=y[0];return M!=null&&M.focus?(M.focus(),i.current=!0,!0):!1},c=function(g){switch(g.keyCode){case Nr:u();break;case Kr:{var v=!1;i.current||(v=s()),v?g.preventDefault():u();break}}};t.useEffect(function(){return n?(window.addEventListener("keydown",c),l&&Re(s,3),function(){window.removeEventListener("keydown",c),i.current=!1}):function(){i.current=!1}},[n])}var Ar=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function _r(e,n){var a=e.arrow,o=a===void 0?!1:a,r=e.prefixCls,l=r===void 0?"rc-dropdown":r,i=e.transitionName,u=e.animation,s=e.align,c=e.placement,m=c===void 0?"bottomLeft":c,g=e.placements,v=g===void 0?wr:g,h=e.getPopupContainer,d=e.showAction,y=e.hideAction,M=e.overlayClassName,S=e.overlayStyle,K=e.visible,C=e.trigger,p=C===void 0?["hover"]:C,b=e.autoFocus,f=B(e,Ar),U=t.useState(),x=F(U,2),W=x[0],T=x[1],O="visible"in e?K:W,L=t.useRef(null);t.useImperativeHandle(n,function(){return L.current}),Or({visible:O,setTriggerVisible:T,triggerRef:L,onVisibleChange:e.onVisibleChange,autoFocus:b});var Z=function(){var I=e.overlay,R;return typeof I=="function"?R=I():R=I,R},$=function(I){var R=e.onOverlayClick;T(!1),R&&R(I)},V=function(I){var R=e.onVisibleChange;T(I),typeof R=="function"&&R(I)},k=function(){var I=Z();return t.createElement(t.Fragment,null,o&&t.createElement("div",{className:"".concat(l,"-arrow")}),I)},_=function(){var I=e.overlay;return typeof I=="function"?k:k()},ne=function(){var I=e.minOverlayWidthMatchTrigger,R=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?I:!R},le=function(){var I=e.openClassName;return I!==void 0?I:"".concat(l,"-open")},re=function(){var I=e.children,R=I.props?I.props:{},H=oe(R.className,le());return O&&I?t.cloneElement(I,{className:H}):I},Q=y;return!Q&&p.indexOf("contextMenu")!==-1&&(Q=["click"]),t.createElement(Vt,A(A({builtinPlacements:v},f),{},{prefixCls:l,ref:L,popupClassName:oe(M,w({},"".concat(l,"-show-arrow"),o)),popupStyle:S,action:p,showAction:d,hideAction:Q||[],popupPlacement:m,popupAlign:s,popupTransitionName:i,popupAnimation:u,popupVisible:O,stretch:ne()?"minWidth":"",popup:_(),onPopupVisibleChange:V,onPopupClick:$,getPopupContainer:h}),re())}const Hr=t.forwardRef(_r);export{en as D,tt as E,gt as M,bt as S,Qt as a,Wr as b,Hr as c,Fe as u};
